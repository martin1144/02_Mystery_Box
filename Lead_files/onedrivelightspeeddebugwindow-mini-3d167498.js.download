define("a2f",["require","exports","a3f","a2D","MJ","OneDriveLightspeedDebugWindow_mini_css","a2r","a2o","a2k","a2g"],function(e,t,n,r,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i.registerComponent({tagName:"od-debug-window",template:n.default,viewModel:r.default});t.default=s});
define("a3f",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default='<div class="DebugWindow" data-bind="css:{\'DebugWindow-is-visible\':isVisible,\'DebugWindow-is-fullScreen\':isFullScreen}"><div class="DebugWindow-Container"><div class="DebugWindow-TopOptions"><span>RTL <input class="dir-flip" type="checkbox" data-bind="checked:isRtl"></span><span>Fullscreen <input class="dir-flip" type="checkbox" data-bind="checked:isFullScreen"></span></div><div class="DebugWindow-Panes" data-bind="foreach:panes"><a class="DebugWindow-Panes-Tab" data-bind="css:{\'DebugWindow-Panes-Tab-is-active\':isActive},text:name,click:$parent.setIsActive.bind($parent)"></a></div>\x3c!--ko if:selectedPane().component--\x3e<div class="DebugWindow-Pane" data-bind="component:{name:selectedPane().component}"></div>\x3c!--/ko--\x3e\x3c!--ko if:selectedPane().control--\x3e<div class="DebugWindow-Pane" data-bind="control:selectedPane().control"></div>\x3c!--/ko--\x3e</div></div>'});
define("a2D",["require","exports","mU","ML","a3e","a3d","aM","dj","cV","a2Q","a2L","a2o","a2k","a2r","a2H","a2E","MY"],function(e,t,n,r,i,s,o,u,a,f,l,c,h,p,d,v,m){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var g=(function(e){n.__extends(t,e);function t(t){var n=e.call(this,t)||this;n.addBindingHandlers({control:m.default});try{"sessionStorage"in window&&window.sessionStorage&&(n._sessionStorage=window.sessionStorage)}catch(e){n._sessionStorage={}}var r=n,g=r.observables,y=r.resources;n.isVisible=y.consume(a.isDebugWindowVisible)||g.create(!0);y.expose(o.manifests,new(n.managed(s.default)));var b=[n.createPane("Events",m.toSpecification(v.knockoutResourceKey.bypass,{props:{}})),n.createPane("Performance",l.default.tagName),n.createPane("Features",c.default.tagName),n.createPane("Theming",h.default.tagName),n.createPane("Libraries",d.default.tagName)];window.Flight?b.push(n.createPane("Deployments",f.default.tagName)):b.push(n.createPane("Manifests",p.default.tagName));n.panes=g.createArray(b);n.selectedPane=g.create();var w=n._sessionStorage.DebugWindow_EnabledPane,E=b.filter(function(e){return e.name===w})[0];n.setIsActive(E||b[0]);n.events.on(document.body,"keydown",function(e){i.default.isOpenDebugWindowEvent(e)&&n.isVisible(!n.isVisible.peek())});n.isRtl=g.create(u.default.isRightToLeft);n.isFullScreen=g.create("true"===n._sessionStorage.DebugWindow_FullScreen);n.subscribe(n.isRtl,function(){document.documentElement.setAttribute("dir",u.default.isRightToLeft?"ltr":"rtl");u.default.invalidate()});n.subscribe(n.isFullScreen,function(e){n._sessionStorage.DebugWindow_FullScreen=e});n.subscribe(n.isVisible,function(e){n._sessionStorage[i.default.AutoOpenSessionKey]=e});n._sessionStorage[i.default.AutoOpenSessionKey]=n.isVisible();return n}t.prototype.setIsActive=function(e){for(var t=0,n=this.panes();t<n.length;t++){var r=n[t],i=e===r;r.isActive(i);if(i){this._sessionStorage.DebugWindow_EnabledPane=r.name;this.selectedPane(r)}}return!1};t.prototype.createPane=function(e,t){return"string"==typeof t?{name:e,component:t,isActive:this.observables.create(!1)}:{name:e,component:"",control:t,isActive:this.observables.create(!1)}};return t})(r.default);t.default=g});
define("a3e",["require","exports","Kt","a","k9"],function(e,t,n,r,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=window.FilesConfig&&window.FilesConfig.df,o=(function(){function t(){}t.isAvailable=function(){return s||n.isFeatureEnabled(n.DebugWindow)};t.isOpenDebugWindowEvent=function(e){return!(e.keyCode!==i.KeyCodes.graveAccent||!e.ctrlKey&&!e.altKey||e.shiftKey)};t.isOpenSimplePerfDashboardEvent=function(e){return!(e.keyCode!==i.KeyCodes.f8||!e.ctrlKey&&!e.altKey||e.shiftKey)};t.initSimplePerfDashboard=function(n){if(!t._perfDashboardOpen){t._markPerfDashboardOpen(!0);e(["a2g"],function(e){e.show(n,t._markPerfDashboardOpen)})}};t.isInitialized=function(){return t._initialized};t.init=function(n){t.isAvailable()&&(t._initialized||e(["a2f"],function(){if(!t._initialized){t._initialized=!0;var e=document.createElement("div");e.setAttribute("data-bind","component: { name: 'od-debug-window' }");document.body.appendChild(e);r.applyBindings({resources:n},e)}}))};t.enableAutoOpen=function(e){0};t._markPerfDashboardOpen=function(e){t._perfDashboardOpen=e};t.AutoOpenSessionKey="DebugWindow_AutoOpen";return t})();t.default=o});
define("a3d",["require","exports","DJ"],function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=[{id:"dogfood",url:"https://manifestdwestus.cloudapp.net",name:"Dogfood - master branch"},{id:"prod",url:"https://manifestpwestus.cloudapp.net",name:"Production - prod branch"},{id:"local",url:"https://localhost:44300",name:"Localhost - for debugging"}],i=(function(){function e(){this._environment=this._getDefaultEnvironment()}e.prototype.getEnvironment=function(){return this._environment};e.prototype.getEnvironments=function(){return r};e.prototype.setEnvironment=function(e){if(e&&e.id){this._environment=e;localStorage["odsp.business.deployment.environment"]=e.id}};e.prototype.getProjects=function(){var e={url:this._environment.url+"/api/manifest/method/project"};return n.default.startAndPostProcess(e,function(e,t){return JSON.parse(e.responseText)})};e.prototype.getManifestList=function(e){var t={url:this._environment.url+"/api/manifest/method/list"+(e?"?project="+e:"")};return n.default.startAndPostProcess(t,function(e,t){return JSON.parse(e.responseText)})};e.prototype.getCurrentBuildInfo=function(e){var t={url:this._environment.url+"/api/manifest/method/method/project/"+e};return n.default.startAndPostProcess(t,function(e,t){return JSON.parse(e.responseText)})};e.prototype.getManifest=function(e){var t={url:this._environment.url+"/api/manifest/method/ManifestDetails/"+e+"/"};return n.default.startAndPostProcess(t,function(e,t){return JSON.parse(e.responseText)})};e.prototype.isAuthenticated=function(){var e={url:this._environment.url+"/api/auth/method/authenticated",withCredentials:!0};return n.default.startAndPostProcess(e,function(e,t){return JSON.parse(e.responseText)})};e.prototype.getSignInEndpoint=function(){return this._environment.url+"/api/auth/method/signin"};e.prototype.getSignOutEndpoint=function(){return this._environment.url+"/api/auth/method/signout"};e.prototype.saveManifest=function(e){var t={"Content-Type":"application/json"},r={url:this._environment.url+"/api/manifest/method/SaveManifest/"+e.RowKey+(window.barf||"")+"/",json:JSON.stringify(e),headers:t,method:"PUT",withCredentials:!0,requestTimeoutInMS:6e4};return n.default.startAndPostProcess(r,function(e,t){return e.responseText})};e.prototype._getDefaultEnvironment=function(){for(var e,t=localStorage["odsp.business.deployment.environment"],n=0,i=r;n<i.length;n++){var s=i[n];if(s.id===t)return s;"dogfood"===s.id&&(e=s)}return e};return e})();t.default=i});
define("a2Q",["require","exports","a3c","a2S","MJ","OneDriveLightspeedDebugWindow_mini_css"],function(e,t,n,r,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i.registerComponent({tagName:"od-deployment-pane",template:n.default,viewModel:r.default,synchronous:!0});t.default=s});
define("a3c",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default='<div class="od-DeploymentPane">\x3c!--ko if:updateError--\x3e<div class="od-DeploymentPane-error" data-bind="text:updateError"></div>\x3c!--/ko--\x3e<div class="od-DeploymentPane-section"><label for="environments">Environment:</label><select name="environments" data-bind="options:environments,optionsText:\'displayName\',value:environment,disable:isBusy"></select></div>\x3c!--ko if:!isAuthenticated()--\x3e<div class="od-DeploymentPane-login"><button class="od-Button od-Button--primary" data-bind="click:login">Login</button></div>\x3c!--/ko--\x3e\x3c!--ko if:isBusy()--\x3e<div class="od-DeploymentPane-updating"><div class="od-DeploymentPane-updatingText">Updating Deployments</div></div>\x3c!--/ko--\x3e<div class="od-DeploymentPane-section"><label for="manifests">Manifest Group:</label>\x3c!--ko if:manifestNames--\x3e<select name="manifests" data-bind="options:manifestNames,optionsCaption:\'Choose...\',value:selectedManifestName,disable:isBusy"></select>\x3c!--/ko--\x3e\x3c!--ko if:manifestNamesError--\x3e<button class="od-Button" data-bind="click:getManifestNames">Try again</button><div class="od-DeploymentPane-error" data-bind="text:manifestNamesError"></div>\x3c!--/ko--\x3e\x3c!--ko if:!manifestNames()&&!manifestNamesError()--\x3eLoading Manifest Groups...\x3c!--/ko--\x3e</div>\x3c!--ko ifnot:deployments--\x3e<div class="od-DeploymentPane-section"><label for="deployments">Deployments:</label>\x3c!--ko if:deploymentsError--\x3e<button class="od-Button" data-bind="click:getDeployments">Try again</button><div class="od-DeploymentPane-error" data-bind="text:deploymentsError"></div>\x3c!--/ko--\x3e\x3c!--ko if:!deployments()&&!deploymentsError()--\x3eLoading Deployments...\x3c!--/ko--\x3e</div>\x3c!--/ko--\x3e\x3c!--ko if:selectedManifestName()&&deployments()--\x3e<div class="od-DeploymentPane-section od-DeploymentPane-currentManifest"><label>Current Manifest:</label>\x3c!--ko ifnot:currentManifest--\x3e<button class="od-Button" data-bind="click:getDeployments">Try again</button><div class="od-DeploymentPane-error">Couldn\'t find current Manifest</div>\x3c!--/ko--\x3e\x3c!--ko if:currentManifest--\x3e\x3c!----\x3e\x3c!--ko if:false&&isAuthenticated()--\x3e<div class="od-DeploymentPane-update"><input name="percentage" type="text" data-bind="value:deploymentPercentage"> % <button class="od-Button od-Button--primary" data-bind="click:updateCurrentDeployment,disable:isBusy">Update Deployment Percentage</button></div>\x3c!--/ko--\x3e<od-debug-window-manifestinfo params="dataSource: dataSource, manifest: currentManifest"></od-debug-window-manifestinfo>\x3c!--/ko--\x3e</div>\x3c!--/ko--\x3e\x3c!--ko if:selectedManifestName()&&(!branches()||manifestsError())--\x3e<div class="od-DeploymentPane-section"><label>Manifests:</label>\x3c!--ko if:manifestsError--\x3e<button class="od-Button" data-bind="click:getManifests">Try again</button><div class="od-DeploymentPane-error" data-bind="text:manifestsError"></div>\x3c!--/ko--\x3e\x3c!--ko if:!branches()&&!manifestsError()--\x3eLoading Manifests...\x3c!--/ko--\x3e</div>\x3c!--/ko--\x3e\x3c!--ko if:branches--\x3e<div class="od-DeploymentPane-section"><label for="branches">Branches:</label><select name="branches" data-bind="options:branches,optionsCaption:\'Choose...\',value:selectedBranch,disable:isBusy"></select></div>\x3c!--/ko--\x3e\x3c!--ko if:availableManifests()--\x3e<div class="od-DeploymentPane-section"><label for="branches">Available Manifests:</label><div class="od-DeploymentPane-container">\x3c!--ko component:manifestListComponent--\x3e\x3c!--/ko--\x3e</div></div>\x3c!--/ko--\x3e\x3c!--ko if:isAuthenticated()&&selectedManifest()--\x3e<div class="od-DeploymentPane-section od-DeploymentPane-update"><label for="percentage">Deployment Percentage:</label><input name="percentage" type="text" data-bind="value:newDeploymentPercentage"> %\x3c!--ko if:currentManifest--\x3e<button class="od-Button od-Button--primary" data-bind="click:updateDeployment,disable:isBusy">Update Deployment</button>\x3c!--/ko--\x3e\x3c!--ko ifnot:currentManifest--\x3e<button class="od-Button od-Button--primary" data-bind="click:createDeployment,disable:isBusy">Create New Deployment</button>\x3c!--/ko--\x3e</div>\x3c!--/ko--\x3e\x3c!--ko if:buildDetailsComponent--\x3e<div class="od-DeploymentPane-section"><label for="branches">Selected Manifest Details:</label><div class="od-DeploymentPane-container">\x3c!--ko component:buildDetailsComponent--\x3e\x3c!--/ko--\x3e</div></div>\x3c!--/ko--\x3e</div>'});
define("a2S",["require","exports","mU","ML","a3b","a21","a2T"],function(e,t,n,r,i,s,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var u=(function(e){n.__extends(t,e);function t(t,n){var r=e.call(this,t,n)||this;r.dataSource=new i.default;r.environments=r.dataSource.getEnvironments();r.environment=r.createObservable(r.dataSource.getEnvironment());r.isBusy=r.createObservable(!1);r.isAuthenticated=r.createObservable(!1);r.manifestNames=r.createObservable(null);r.manifestNamesError=r.createObservable("");r.selectedManifestName=r.createObservable(void 0);r._allManifests=r.createObservable(null);r.manifestsError=r.createObservable("");r.selectedBranch=r.createObservable(void 0);r.deployments=r.createObservable(null);r.deploymentsError=r.createObservable("");r.selectedManifest=r.createObservable(null);r.deploymentPercentage=r.createObservable(0);r.newDeploymentPercentage=r.createObservable(0);r.updateError=r.createObservable("");r.subscribe(r.environment,function(e){r.dataSource.setEnvironment(e);r.updateError("");r.isAuthenticated(!1);r._getIsAuthenticatedState();r.selectedManifestName(void 0);r.getManifestNames();r.getDeployments()});r.branches=r.createPureComputed(r._computeBranches);r.availableManifests=r.createPureComputed(r._computeAvailableManifests);r._currentDeployment=r.createPureComputed(r.computeCurrentDeployment);r.currentManifest=r.createPureComputed(r._computeCurrentManifest);r.manifestListComponent=r.createPureComputed(r._computeManifestListComponent);r.buildDetailsComponent=r.createPureComputed(r._computeBuildDetailsComponent);r.subscribe(r._currentDeployment,function(e){e&&r.deploymentPercentage(e.Percentage)});r.subscribe(r.selectedManifestName,function(){r.selectedBranch(void 0);r.getManifests()});r.subscribe(r.selectedBranch,function(){r.selectedManifest(null)});r.events.on(window,"message",r._onReceivedMessage);r._getIsAuthenticatedState();r.getManifestNames();r.getDeployments();return r}t.prototype.login=function(){this._loginPopup=window.open(this.dataSource.getSignInEndpoint(),"_blank","width=500, height=500");this._monitorLoginPopup()};t.prototype.getManifestNames=function(){var e=this;this.manifestNamesError("");this._getManifestNamesPromise&&this._getManifestNamesPromise.cancel();this.manifestNames(null);var t=this.dataSource.getManifestNames().then(function(t){e.manifestNamesError("");e.manifestNames(t)},function(t){var n=e._getErrorString(t,"Failed to get manifest names");e.manifestNamesError(n)}).then(function(){e._getManifestNamesPromise=null});this._getManifestNamesPromise=t};t.prototype.getDeployments=function(){var e=this;this.deploymentsError("");this._getDeploymentsPromise&&this._getDeploymentsPromise.cancel();this.deployments(null);var t=this.dataSource.getDeployments().then(function(t){if(t.length){e.deploymentsError("");e.deployments(t)}else e.deploymentsError("There were no deployments returned from the server")},function(t){var n=e._getErrorString(t,"Failed to get deployments");e.deploymentsError(n)}).then(function(){e._getDeploymentsPromise=null});this._getDeploymentsPromise=t};t.prototype.getManifests=function(){var e=this;this.manifestsError("");this._getManifestsPromise&&this._getManifestsPromise.cancel();this._allManifests(null);var t=this.selectedManifestName.peek();if(t){var n=this.dataSource.getManifests(t).then(function(t){if(t.length){e.manifestsError("");e._allManifests(t)}else e.manifestsError("There were no manifests returned from the server")},function(n){var r=e._getErrorString(n,"Failed to get manifests for "+t);e.manifestsError(r)}).then(function(){e._getManifestsPromise=null});this._getManifestsPromise=n}};t.prototype.updateDeployment=function(){var e=this;this.isBusy(!0);this.updateError("");var t=this._currentDeployment.peek(),n=this.selectedManifest.peek(),r=this.newDeploymentPercentage();this.dataSource.updateDeployment({DeploymentId:t.DeploymentId,ToManifestId:n.ManifestId,FromManifestId:t.ToManifestId,Percentage:r}).then(function(t){e.getDeployments()},function(t){e.updateError(JSON.stringify(t))}).then(function(){e.isBusy(!1)})};t.prototype.updateCurrentDeployment=function(){var e=this;this.isBusy(!0);this.updateError("");var t=this._currentDeployment.peek(),n=this.selectedManifest.peek(),r=this.deploymentPercentage();this.dataSource.updateDeployment({DeploymentId:t.DeploymentId,ToManifestId:n.ManifestId,FromManifestId:t.ToManifestId,Percentage:r}).then(function(t){e.getDeployments()},function(t){e.updateError(JSON.stringify(t))}).then(function(){e.isBusy(!1)})};t.prototype.createDeployment=function(){var e=this;this.isBusy(!0);this.updateError("");var t=this.selectedManifest.peek(),n=this.newDeploymentPercentage();this.dataSource.createDeployment({ToManifestId:t.ManifestId,FromManifestId:t.ManifestId,UserGroup:this.environment.peek().group,MachineGroup:this.dataSource.defaultMachineGroup(),Percentage:n}).then(function(t){e.getDeployments()},function(t){e.updateError(JSON.stringify(t))}).then(function(){e.isBusy(!1)})};t.prototype._computeBuildDetailsComponent=function(){return this.selectedManifest()&&this.currentManifest()?{name:s.default.tagName,params:{dataSource:this.dataSource,toManifest:this.selectedManifest,fromManifest:this.currentManifest}}:null};t.prototype._computeManifestListComponent=function(){return{name:o.default.tagName,params:{selectedManifest:this.selectedManifest,manifestsLoaded:this.createObservable(!0),manifestsError:this.createObservable(null),dataSource:this.dataSource,availableManifests:this.availableManifests}}};t.prototype._computeBranches=function(){var e=this._allManifests();if(!e)return null;for(var t=[],n=0,r=e;n<r.length;n++){var i=r[n];t.indexOf(i.Branch)<0&&t.push(i.Branch)}return t=t.sort(this._sortBranchVersions)};t.prototype._computeAvailableManifests=function(){var e=this.selectedBranch(),t=this._allManifests();if(!e)return null;for(var n=[],r=0,i=t;r<i.length;r++){var s=i[r];s.Branch===e&&n.push(s)}return n};t.prototype.computeCurrentDeployment=function(){var e=this.environment().group,t=this.selectedManifestName(),n=this.deployments();if(!t||!n)return null;for(var r=0,i=n;r<i.length;r++){var s=i[r];if(s.UserGroup===e&&s.ManifestName===t)return s}return null};t.prototype._computeCurrentManifest=function(){var e=this._currentDeployment();return e?e.ToManifest:null};t.prototype._sortBranchVersions=function(e,t){return"master"===e?1:"master"===t||e>t?-1:1};t.prototype._getErrorString=function(e,t){var n=t;if(e)if("object"==typeof e)try{n=JSON.stringify(e)}finally{}else"string"===e&&(n=e);return n};t.prototype._monitorLoginPopup=function(){var e=this;this._popupInterval||(this._popupInterval=this.async.setInterval(function(){if(e._loginPopup)e._loginPopup.postMessage("updating reference of parent to support navigations in login popup","*");else{e.async.clearInterval(e._popupInterval);e._popupInterval=null}},500))};t.prototype._onReceivedMessage=function(e){var t=this.dataSource.getEnvironment();if(this._loginPopup&&e.origin===t.url){this._loginPopup.close();this.async.clearInterval(this._popupInterval);this._popupInterval=null;this._getIsAuthenticatedState()}};t.prototype._getIsAuthenticatedState=function(){var e=this;this.dataSource.isAuthenticated().then(function(t){e.isAuthenticated(t)})};return t})(r.default);t.default=u});
define("a3b",["require","exports","bl","Dr","a26","a25","DJ"],function(e,t,n,r,i,s,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var u=["odsp-next","onedrive-website","onedrive-admin","onedrive-yoda","onedrive-website-home","onedrive.yoda.web"],a=[{id:"dogfood",group:"DF",displayName:"Dogfood",url:"https://manifestdwestus.cloudapp.net",manifestType:1},{id:"int",group:"INT",displayName:"Dev/SOAK",url:"https://manifestdwestus.cloudapp.net",manifestType:1},{id:"prod",group:"PROD",displayName:"Production",url:"https://manifestpwestus.cloudapp.net",manifestType:0},{id:"local",group:"DF",displayName:"Localhost - for debugging",url:"https://localhost:44300",manifestType:1}],f="/api/auth/method/authenticated",l="/api/auth/method/signin",c="/api/auth/method/signout",h="/api/manifestv2",p=(function(){function e(){this._environment=this._getDefaultEnvironment()}e.prototype.getEnvironment=function(){return this._environment};e.prototype.getEnvironments=function(){return a};e.prototype.setEnvironment=function(e){if(e&&e.id){this._environment=e;localStorage["onedrive.consumer.deployment.environment"]=e.id}};e.prototype.setManifestServerEndpoint=function(e){for(var t=0,n=a;t<n.length;t++){var r=n[t];if(r.url===e)return this.setEnvironment(r)}};e.prototype.getUserGroups=function(){switch(this._environment.manifestType){case 1:return["INT","DF"];case 0:return["PROD"]}};e.prototype.isAuthenticated=function(){var e={url:this._environment.url+f,json:null,withCredentials:!0};return o.default.startAndPostProcess(e,function(e,t){return JSON.parse(e.responseText)})};e.prototype.defaultMachineGroup=function(){return window.Flight?"ODC":"ODB"};e.prototype.getSignInEndpoint=function(){return this._environment.url+l};e.prototype.getSignOutEndpoint=function(){return this._environment.url+c};e.prototype.getVSORootUrl=function(){return"https://onedrive.visualstudio.com/OneDriveWeb"};e.prototype.getManifests=function(e,t){t=t||50;for(var i=[],s=0;s<t;s+=10)i.push({count:10,skip:s});for(var o=[],u=new r.default(5),a=0,f=i;a<f.length;a++){var l=f[a];o.push(this.enqueueManifestRequest(e,l,u))}return n.default.all(o).then(function(e){for(var t=[],n=0,r=e;n<r.length;n++){var i=r[n];t=t.concat(i)}return t})};e.prototype.getManifestNamesFromRepo=function(e){var t={url:""+this._environment.url+h+"/method/manifestnames?repo="+e,json:null,requestTimeoutInMS:6e4};return o.default.startAndPostProcess(t,function(e,t){return JSON.parse(e.responseText)}).then(function(e){return e})};e.prototype.getManifestNames=function(){for(var e=[],t=0,r=u;t<r.length;t++){var i=r[t];e.push(this.getManifestNamesFromRepo(i))}return n.default.all(e).then(function(e){for(var t=[],n=0,r=e;n<r.length;n++)for(var i=0,s=r[n];i<s.length;i++){var o=s[i];t.indexOf(o)<0&&t.push(o)}return t=t.sort()})};e.prototype.getDeployments=function(){var e={url:this._environment.url+h+"/method/deployments?machineGroup="+this.defaultMachineGroup(),json:null,requestTimeoutInMS:6e4};return o.default.startAndPostProcess(e,function(e,t){return JSON.parse(e.responseText)}).then(function(e){for(var t=[],n=0;n<e.length;n++)t.push(new s.Deployment(e[n]));return t})};e.prototype.createDeployment=function(e){var t={headers:{"Content-Type":"application/json"},url:this._environment.url+h+"/method/deployment",json:JSON.stringify(e),withCredentials:!0,requestTimeoutInMS:6e4};return o.default.startAndPostProcess(t,function(e,t){return JSON.parse(e.responseText)})};e.prototype.updateDeployment=function(e){var t={headers:{"Content-Type":"application/json"},url:this._environment.url+h+"/method/updatedeployment",json:JSON.stringify(e),withCredentials:!0,requestTimeoutInMS:6e4};return o.default.startAndPostProcess(t,function(e,t){return JSON.parse(e.responseText)})};e.prototype.enqueueManifestRequest=function(e,t,n){var r={url:""+this._environment.url+h+"?count="+t.count+"&skip="+t.skip+(e?"&name="+e:""),json:null},s=function(e,t){return JSON.parse(e.responseText)};return n.enqueue(function(){return o.default.startAndPostProcess(r,s).then(function(e){for(var t=[],n=0,r=e;n<r.length;n++){var s=r[n];t.push(new i.Manifest(s))}return t})})};e.prototype._getDefaultEnvironment=function(){for(var e,t=localStorage["onedrive.consumer.deployment.environment"],n=0,r=a;n<r.length;n++){var i=r[n];if(i.id===t)return i;"dogfood"===i.id&&(e=i)}return e};return e})();t.default=p});
define("a26",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){this.ManifestId=e.ManifestId;this.Name=e.Name;this.Project=e.Project;this.CreateDate=e.CreateDate;this.Path=e.Path;this.Repository=e.Repository;this.Creator=e.Creator;this.Machine=e.Machine;this.Branch=e.Branch;this.BuildId=e.BuildId;this.BuildNumber=e.BuildNumber;this.Commit=e.Commit;this.BowerVersion=e.BowerVersion;this.Data=e.Data;this.WasAuthenticated=e.WasAuthenticated;this.AuthenicatedCreator=e.AuthenicatedCreator;this.AuthenicationType=e.AuthenicationType;this.ManifestData=JSON.parse(this.Data)};t.Manifest=n;t.default=n});
define("a25",["require","exports","a26"],function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=(function(){function e(e){this.DeploymentId=e.DeploymentId;this.FromManifestId=e.FromManifestId;this.FromManifest=new n.Manifest(e.FromManifest);this.ToManifestId=e.ToManifestId;this.ToManifest=new n.Manifest(e.ToManifest);this.ManifestName=e.ManifestName;this.ModifiedDate=e.ModifiedDate;this.MachineGroup=e.MachineGroup;this.UserGroup=e.UserGroup;this.Percentage=e.Percentage;this.StartDate=e.StartDate;this.EndDate=e.EndDate}e.getRepoNameFromName=function(e){if(e){var t=e.indexOf("/");return t>0?e.substring(t+1):e}return e};e.getBowerMerge=function(e,t){var n=[],r=e.ManifestData.bower||{},i=t.ManifestData.bower||{};for(var s in r){var o=i[s],u=r[s];o?o.repoName=this.getRepoNameFromName(o.name):o={name:s,repoName:this.getRepoNameFromName(s),commit:"",version:"",dependencies:null};u.repoName=this.getRepoNameFromName(u.name);u.name||(u.name=s);n.push({fromBower:u,toBower:o,different:u.version!==o.version})}for(var s in i){if(!(u=r[s])){(o=i[s]).repoName=this.getRepoNameFromName(o.name);o.name||(o.name=s);n.push({fromBower:{name:s,repoName:this.getRepoNameFromName(s),commit:"",version:"",dependencies:null},toBower:o,different:!0})}}return n=n.sort(function(e,t){var n=e.fromBower.name.indexOf("/")>0,r=t.fromBower.name.indexOf("/")>0;return n&&!r?-1:!n&&r?1:e.fromBower.commit&&!t.fromBower.commit?-1:!e.fromBower.commit&&t.fromBower.commit||e.fromBower.name>t.fromBower.name?1:e.fromBower.name<t.fromBower.name?-1:0})};return e})();t.Deployment=r;t.default=r});
define("a21",["require","exports","a3a","a29","MJ","OneDriveLightspeedDebugWindow_mini_css","a2U","a22"],function(e,t,n,r,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i.registerComponent({tagName:"od-build-details",template:n.default,viewModel:r.default,synchronous:!0});t.default=s});
define("a3a",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default='<div class="od-BuildDetails">\x3c!--ko if:diffFromManifest()&&diffToManifest()--\x3e<div>\x3c!--ko if:warnings().length>0--\x3e<h5>Warnings</h5><div class="DebugWindow-Panes-Deployments-BuildDetails-Section"><ul data-bind="foreach:warnings"><li class="DebugWindow-Panes-Deployments-BuildDetails-Warning" data-bind="text:$data"></li></ul></div>\x3c!--/ko--\x3e<h5>Changes in</h5><div class="DebugWindow-Panes-Deployments-BuildDetails-Section"><div><a target="_blank" data-bind="attr:{href:dataSource.getVSORootUrl()+\'/_git/\'+diffFromManifest().Repository+\'/branches#baseVersion=GC\'+diffFromManifest().Commit+\'&targetVersion=GC\'+diffToManifest().Commit+\'&_a=commits\'}">Commits</a></div><div><a target="_blank" data-bind="attr:{href:dataSource.getVSORootUrl()+\'/_git/\'+diffFromManifest().Repository+\'/branches#baseVersion=GC\'+diffFromManifest().Commit+\'&targetVersion=GC\'+diffToManifest().Commit+\'&_a=files\'}">Files</a></div></div><h5>Manifests</h5><div class="DebugWindow-Panes-Deployments-BuildDetails-Section"><h6 class="DebugWindow-Panes-Deployments-BuildDetails-Section-SubHeader">From</h6><od-debug-window-manifestinfo params="dataSource: dataSource, manifest: diffFromManifest"></od-debug-window-manifestinfo><h6 class="DebugWindow-Panes-Deployments-BuildDetails-Section-SubHeader">To</h6><od-debug-window-manifestinfo params="dataSource: dataSource, manifest: diffToManifest"></od-debug-window-manifestinfo><div class="DebugWindow-Panes-Deployments-Clear"></div></div>\x3c!--ko if:scenariosPerformance()&&scenariosPerformance().length>0--\x3e<h5>Performance</h5><div class="DebugWindow-Panes-Deployments-BuildDetails-Section"><ul data-bind="foreach:scenariosPerformance"><li class="DebugWindow-Panes-Deployments-BuildDetails-Ramp"><span data-bind="text:$data.name"></span><ul><li>From:&nbsp;<span data-bind="text:$data.fromSizeString"></span>&nbsp;-&nbsp;<span data-bind="text:$data.fromDownloadString"></span>&nbsp;-&nbsp; <span data-bind="text:$data.fromTotalTimeString"></span></li><li>To:&nbsp;<span data-bind="text:$data.toSizeString"></span>&nbsp;-&nbsp;<span data-bind="text:$data.toDownloadString"></span>&nbsp;-&nbsp; <span data-bind="text:$data.toTotalTimeString"></span></li><li>Change:&nbsp;<span data-bind="text:$data.sizeChangeString"></span>&nbsp;-&nbsp;<span data-bind="text:$data.percentageChange"></span>%&nbsp;-&nbsp; <span data-bind="text:$data.extraDownloadInformation"></span></li>\x3c!--ko if:$data.bundlesDiff&&$data.bundlesDiff.length>0--\x3e<li>Bundles<ul data-bind="foreach:$data.bundlesDiff"><li><span data-bind="text:$data.name"></span> &nbsp;-&nbsp; <a data-bind="attr:{href:$data.fromScriptUrl}">From</a> &nbsp;-&nbsp; <a data-bind="attr:{href:$data.toScriptUrl}">To</a> &nbsp;-&nbsp; <a data-bind="attr:{href:$data.fromNoCompressScriptUrl}">From NC</a> &nbsp;-&nbsp; <a data-bind="attr:{href:$data.toNoCompressScriptUrl}">To NC</a><ul><li>From:&nbsp;<span data-bind="text:$data.fromSizeString"></span>&nbsp;-&nbsp; <span data-bind="text:$data.fromDownloadString"></span></li><li>To:&nbsp;<span data-bind="text:$data.toSizeString"></span>&nbsp;-&nbsp; <span data-bind="text:$data.toDownloadString"></span></li><li>Change:&nbsp;<span data-bind="text:$data.sizeChangeString"></span>&nbsp;-&nbsp; <span data-bind="text:$data.percentageChange"></span>%</li>\x3c!--ko if:$data.addedFiles&&$data.addedFiles.length>0--\x3e<li>Added Files:<ul data-bind="foreach:$data.addedFiles"><li data-bind="text:$data"></li></ul></li>\x3c!--/ko--\x3e\x3c!--ko if:$data.removedFiles&&$data.removedFiles.length>0--\x3e<li>Removed Files:<ul data-bind="foreach:$data.removedFiles"><li data-bind="text:$data"></li></ul></li>\x3c!--/ko--\x3e</ul></li></ul></li>\x3c!--/ko--\x3e</ul></li></ul></div>\x3c!--/ko--\x3e\x3c!--ko if:addedRamps()&&addedRamps().length>0--\x3e<h5>Added Ramps</h5><div class="DebugWindow-Panes-Deployments-BuildDetails-Section"><ul data-bind="foreach:addedRamps"><li class="DebugWindow-Panes-Deployments-BuildDetails-Ramp"><span data-bind="text:$data.name"></span>&nbsp;-&nbsp;<span data-bind="text:$data.rampInfo.type"></span>&nbsp;-&nbsp; <a target="_blank" data-bind="attr:{href:\'https://storage.live-int.com/Rampage/Ramp/Get/\'+$data.name}">Int</a>&nbsp;-&nbsp; <a target="_blank" data-bind="attr:{href:\'https://storage.live.com/Rampage/Ramp/Get/\'+$data.name}">DF</a>&nbsp;-&nbsp; <a target="_blank" data-bind="attr:{href:\'https://storage.live.com/Rampage/Ramp/Get/\'+$data.name}">PROD</a><ul data-bind="foreach:$data.rampInfo.usages"><li data-bind="text:$data"></li></ul></li></ul></div>\x3c!--/ko--\x3e\x3c!--ko if:removedRamps()&&removedRamps().length>0--\x3e<h5>Removed Ramps</h5><div class="DebugWindow-Panes-Deployments-BuildDetails-Section"><ul data-bind="foreach:removedRamps"><li class="DebugWindow-Panes-Deployments-BuildDetails-Ramp"><span data-bind="text:$data.name"></span>&nbsp;-&nbsp;<span data-bind="text:$data.rampInfo.type"></span>&nbsp;-&nbsp; <a target="_blank" data-bind="attr:{href:\'https://storage.live-int.com/Rampage/Ramp/Get/\'+$data.name}">Int</a>&nbsp;-&nbsp; <a target="_blank" data-bind="attr:{href:\'https://storage.live.com/Rampage/Ramp/Get/\'+$data.name}">DF</a>&nbsp;-&nbsp; <a target="_blank" data-bind="attr:{href:\'https://storage.live.com/Rampage/Ramp/Get/\'+$data.name}">PROD</a><ul data-bind="foreach:$data.rampInfo.usages"><li data-bind="text:$data"></li></ul></li></ul></div>\x3c!--/ko--\x3e<h5>Dependencies</h5><div class="DebugWindow-Panes-Deployments-BuildDetails-Section"><od-debug-window-deploymentbowerdiff params="dataSource: dataSource, from: diffFromManifest, to: diffToManifest"></od-debug-window-deploymentbowerdiff><div class="DebugWindow-Panes-Deployments-Clear"></div></div></div>\x3c!--/ko--\x3e</div>'});
define("a29",["require","exports","mU","ML"],function(e,t,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=1073741824,s=(function(e){n.__extends(t,e);function t(t,n){var r=e.call(this,t,n)||this;r.dataSource=t.dataSource;r.diffFromManifest=t.fromManifest;r.diffToManifest=t.toManifest;r.addedRamps=r.createComputed(r._computeAddedRamps);r.removedRamps=r.createPureComputed(r._computeRemovedRamps);r.scenariosPerformance=r.createPureComputed(r._computeScenariosPerformance);r.warnings=r.createPureComputed(r._computeWarnings);return r}t.prototype._computeWarnings=function(){var e=[],t=this.diffFromManifest(),n=this.diffToManifest();if(t&&n){t.ManifestId===n.ManifestId&&e.push("From and To manifests are the same.");"dev"===n.Branch.toLocaleLowerCase()&&e.push("To branch is a dev branch");"dev"===n.Repository.toLocaleLowerCase()&&e.push("The build came from a dev build");"master"===n.Branch.toLocaleLowerCase()&&e.push("To branch is the master branch");var r=[t.Branch,n.Branch];r.sort(this._sortBranchVersions);r[0]!==n.Branch&&r[1]!==t.Branch&&e.push("To branch is older than From branch");n.CreateDate<t.CreateDate&&e.push("To build is older than From build");var i=this.scenariosPerformance();if(i)for(var s=0,o=i;s<o.length;s++){var u=o[s];u.percentageChange>.25&&e.push(u.name+" regressed by "+u.sizeChangeString+" ("+u.percentageChange+"%) - "+u.extraDownloadInformation+" - "+u.toTotalTimeString)}}return e};t.prototype._computeScenariosPerformance=function(){var e=this.diffToManifest(),t=this.diffFromManifest();if(t&&e){for(var n=[],r=Object.create(null),i=t.ManifestData.resources.scenarios,s=e.ManifestData.resources.scenarios,o=0,u=i;o<u.length;o++){r[(l=u[o]).name]||(r[l.name]={from:null,to:null});r[l.name].from=l}for(var a=0,f=s;a<f.length;a++){var l;r[(l=f[a]).name]||(r[l.name]={from:null,to:null});r[l.name].to=l}for(var c in r){var h=r[c],p=h.from&&h.from.zipSize||0,d=h.to&&h.to.zipSize||0,v=h.from&&h.from.bundles?h.from.bundles:[],m=h.to&&h.to.bundles?h.to.bundles:[],g=v.length,y=m.length,b=0,w=d-p;0!==w&&0!==p&&(b=this._twoDecimalPlaces(100*w/p));var E=y-g+" file count diff - "+this._sizeToDownloadString(w);n.push({name:c,fromSizeString:this._sizeToString(p),toSizeString:this._sizeToString(d),fromDownloadString:this._sizeToDownloadString(p),toDownloadString:this._sizeToDownloadString(d),fromTotalTimeString:this._sizeToTotalTimeString(p,g),toTotalTimeString:this._sizeToTotalTimeString(d,y),sizeChangeString:this._sizeToString(w),percentageChange:b,extraDownloadInformation:E,bundlesDiff:this._diffBundles(v,m,t,e)})}return n}return null};t.prototype._computeAddedRamps=function(){var e=this.diffToManifest(),t=this.diffFromManifest();if(t&&e){var n=t.ManifestData.rampInfo,r=e.ManifestData.rampInfo,i=[];for(var s in r)n[s]||i.push({rampInfo:r[s],name:s});return i}return null};t.prototype._computeRemovedRamps=function(){var e=this.diffToManifest(),t=this.diffFromManifest();if(t&&e){var n=t.ManifestData.rampInfo,r=e.ManifestData.rampInfo,i=[];for(var s in n)r[s]||i.push({rampInfo:n[s],name:s});return i}return null};t.prototype._diffBundles=function(e,t,n,r){for(var i=[],s=this._bundlesToScripts(e,n),o=this._bundlesToScripts(t,r),u={},a=0,f=s;a<f.length;a++){for(var l=f[a],c=0,h=o;c<h.length;c++){var p=h[c];if(l.name===p.name){u[l.name]=!0;i.push(this._diffScripts(l,p,n,r));break}}u[l.name]||i.push(this._diffScripts(l,null,n,r))}for(var d=0,v=o;d<v.length;d++){u[(p=v[d]).name]||i.push(this._diffScripts(null,p,n,r))}return i};t.prototype._diffScripts=function(e,t,n,r){var i=e?e.name:t.name,s=e&&e.zipSize||0,o=t&&t.zipSize||0,u=0,a=o-s;0!==a&&0!==s&&(u=this._twoDecimalPlaces(100*a/s));var f=[],l=[];if(e&&t){for(var c=function(e){return 0===e.indexOf("en-us/")?e.substring("en-us/".length):e},h=n.ManifestData.resources.bundles[c(e.name)],p=r.ManifestData.resources.bundles[c(t.name)],d=0,v=h;d<v.length;d++){var m=v[d];p.indexOf(m)<0&&l.push(m)}for(var g=0,y=p;g<y.length;g++){var b=y[g];h.indexOf(b)<0&&f.push(b)}}return{name:i,fromSizeString:this._sizeToString(s),toSizeString:this._sizeToString(o),fromDownloadString:this._sizeToDownloadString(s),toDownloadString:this._sizeToDownloadString(o),sizeChangeString:this._sizeToString(a),percentageChange:u,fromScriptUrl:this._scriptToUrl(e,n),toScriptUrl:this._scriptToUrl(t,r),fromNoCompressScriptUrl:this._scriptToUrl(e,n,!0),toNoCompressScriptUrl:this._scriptToUrl(t,r,!0),addedFiles:f,removedFiles:l}};t.prototype._bundlesToScripts=function(e,t){var n=[];if(t.ManifestData.resources&&t.ManifestData.resources.scripts)for(var r=0,i=e;r<i.length;r++)for(var s=i[r],o=0,u=t.ManifestData.resources.scripts;o<u.length;o++){var a=u[o];if(a.name===s||a.name==="en-us/"+s){n.push(a);break}}return n};t.prototype._scriptToUrl=function(e,t,n){return e?n?""+t.ManifestData.cdns[0]+t.ManifestData.key+"/nocompress/"+e.name+"-"+e.hashNoCompress+".js":""+t.ManifestData.cdns[0]+t.ManifestData.key+"/"+e.name+"-"+e.hash+".js":""};t.prototype._sortBranchVersions=function(e,t){return"master"===e?1:"master"===t||e>t?-1:1};t.prototype._twoDecimalPlaces=function(e){return Math.round(100*e)/100};t.prototype._sizeToTotalTimeString=function(e,t){var n=e/409600;n+=.15*Math.ceil(t/6);return t+" files - "+this._twoDecimalPlaces(n)+"s estimated total (RTT + Download)"};t.prototype._sizeToDownloadString=function(e){return this._twoDecimalPlaces(e/409600)+"s at "+this._sizeToString(409600)+"/sec"};t.prototype._sizeToString=function(e){var t=e<0?"-":"";return(e=Math.abs(e))<1024?""+t+e+" bytes":e<1048576?""+t+this._twoDecimalPlaces(e/1024)+" KB":e<i?""+t+this._twoDecimalPlaces(e/1048576)+" MB":""+t+this._twoDecimalPlaces(e/i)+" GB"};return t})(r.default);t.default=s});
define("a2U",["require","exports","a2X","a2W","MJ","OneDriveLightspeedDebugWindow_mini_css"],function(e,t,n,r,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i.registerComponent({tagName:"od-debug-window-manifestinfo",template:n.default,viewModel:r.default,synchronous:!0});t.default=s});
define("a2X",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default='<div class="DebugWindow-ManifestInfo"><div class="DebugWindow-ManifestInfo-Section"><div class="DebugWindow-ManifestInfo-Section-Name">Branch:</div><div class="DebugWindow-ManifestInfo-Section-Value" data-bind="text:manifest().Branch"></div></div><div class="DebugWindow-ManifestInfo-Section"><div class="DebugWindow-ManifestInfo-Section-Name">Repository:</div><div class="DebugWindow-ManifestInfo-Section-Value" data-bind="text:manifest().Repository"></div></div><div class="DebugWindow-ManifestInfo-Section"><div class="DebugWindow-ManifestInfo-Section-Name">Build Number:</div><div class="DebugWindow-ManifestInfo-Section-Value"><a target="_blank" data-bind="attr:{href:dataSource.getVSORootUrl()+\'/_build/results?buildId=\'+manifest().BuildId+\'&view=results\',title:manifest().BuildNumber},text:manifest().BuildNumber"></a></div></div><div class="DebugWindow-ManifestInfo-Section"><div class="DebugWindow-ManifestInfo-Section-Name">Commit:</div><div class="DebugWindow-ManifestInfo-Section-Value"><a target="_blank" data-bind="attr:{href:dataSource.getVSORootUrl()+\'/_git/\'+manifest().Repository+\'/commit/\'+manifest().Commit,title:manifest().Commit},text:manifest().Commit"></a></div></div><div class="DebugWindow-ManifestInfo-Section"><div class="DebugWindow-ManifestInfo-Section-Name">BowerVersion:</div><div class="DebugWindow-ManifestInfo-Section-Value" data-bind="text:manifest().BowerVersion"></div></div><div class="DebugWindow-ManifestInfo-Section"><div class="DebugWindow-ManifestInfo-Section-Name">CreateDate:</div><div class="DebugWindow-ManifestInfo-Section-Value" data-bind="text:manifest().CreateDate"></div></div><div class="DebugWindow-ManifestInfo-Section"><div class="DebugWindow-ManifestInfo-Section-Name">Opt In:</div><div class="DebugWindow-ManifestInfo-Section-Value">\x3c!--ko if:isProd--\x3e<a target="_blank" data-bind="attr:{href:\'https://onedrive.live.com/?disableNoCompress=true&devmanifestid=\'+manifest().ManifestId+\'&devmanifestname=\'+manifest().Name}">PROD</a>&nbsp;&nbsp;&nbsp;\x3c!--/ko--\x3e\x3c!--ko if:!isProd--\x3e<a target="_blank" data-bind="attr:{href:\'https://onedrive.live.com/?disableNoCompress=true&devmanifestid=\'+manifest().ManifestId+\'&devmanifestname=\'+manifest().Name}">DF</a>&nbsp;&nbsp;&nbsp; <a target="_blank" data-bind="attr:{href:\'https://onedrive.live-int.com/?disableNoCompress=true&devmanifestid=\'+manifest().ManifestId+\'&devmanifestname=\'+manifest().Name}">INT</a>\x3c!--/ko--\x3e</div></div></div>'});
define("a2W",["require","exports","mU","ML","a2z","a"],function(e,t,n,r,i,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=(function(e){n.__extends(t,e);function t(t){var n=e.call(this,t)||this;n.dataSource=t.dataSource;n.isProd=0===n.dataSource.getEnvironment().manifestType;n.manifest=n.createComputed(function(){return s.unwrap(t.manifest)});n.addBindingHandlers({booleanValue:i.default});return n}return t})(r.default);t.default=o});
define("a2z",["require","exports","a"],function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=(function(){function e(){}e.init=function(e,t,r,i){var s=t(),o=n.pureComputed({read:function(){return s().toString()},write:function(e){s("true"===e)}});n.applyBindingsToNode(e,{value:o})};return e})();t.default=r});
define("a22",["require","exports","a27","a24","MJ","OneDriveLightspeedDebugWindow_mini_css"],function(e,t,n,r,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i.registerComponent({tagName:"od-debug-window-deploymentbowerdiff",template:n.default,viewModel:r.default,synchronous:!0});t.default=s});
define("a27",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default='<div class="DebugWindow-DeploymentBowerDiff"><div class="DebugWindow-DeploymentBowerDiff-dataContainer"><div data-bind="foreach:bowerMerge"><div class="DebugWindow-DeploymentBowerDiff-diffwrapper" data-bind="css:{\'DebugWindow-DeploymentBowerDiff-diffwrapper-different\':different}"><div class="DebugWindow-DeploymentBowerDiff-Section"><div class="DebugWindow-DeploymentBowerDiff-BowerName" data-bind="text:fromBower.name"></div></div>\x3c!--ko if:fromBower.commit||toBower.commit--\x3e<div class="DebugWindow-DeploymentBowerDiff-Section"><div class="DebugWindow-DeploymentBowerDiff-Name">Commit:</div><div class="DebugWindow-DeploymentBowerDiff-Value"><div class="DebugWindow-DeploymentBowerDiff-Value-From"><a target="_blank" data-bind="attr:{href:$parent.dataSource.getVSORootUrl()+\'/_git/\'+fromBower.repoName+\'/commit/\'+fromBower.commit},text:fromBower.commit"></a></div>-<div class="DebugWindow-DeploymentBowerDiff-Value-To"><a target="_blank" data-bind="attr:{href:$parent.dataSource.getVSORootUrl()+\'/_git/\'+toBower.repoName+\'/commit/\'+toBower.commit},text:toBower.commit"></a></div></div></div>\x3c!--/ko--\x3e<div class="DebugWindow-DeploymentBowerDiff-Section"><div class="DebugWindow-DeploymentBowerDiff-Name">Version:</div><div class="DebugWindow-DeploymentBowerDiff-Value"><div class="DebugWindow-DeploymentBowerDiff-Value-From" data-bind="text:fromBower.version"></div>-<div class="DebugWindow-DeploymentBowerDiff-Value-To" data-bind="text:toBower.version"></div></div></div>\x3c!--ko if:fromBower.commit||toBower.commit--\x3e<div class="DebugWindow-DeploymentBowerDiff-Section"><div class="DebugWindow-DeploymentBowerDiff-Name">Diff:</div><div class="DebugWindow-DeploymentBowerDiff-Value"><div class="DebugWindow-DeploymentBowerDiff-Value-From"><a target="_blank" data-bind="attr:{href:$parent.dataSource.getVSORootUrl()+\'/_git/\'+fromBower.repoName+\'/branches#baseVersion=GC\'+fromBower.commit+\'&targetVersion=GC\'+toBower.commit+\'&_a=commits\'}">Commit</a></div>-<div class="DebugWindow-DeploymentBowerDiff-Value-To"><a target="_blank" data-bind="attr:{href:$parent.dataSource.getVSORootUrl()+\'/_git/\'+fromBower.repoName+\'/branches#baseVersion=GC\'+fromBower.commit+\'&targetVersion=GC\'+toBower.commit+\'&_a=files\'}">Files</a></div></div></div>\x3c!--/ko--\x3e</div></div></div></div>'});
define("a24",["require","exports","mU","ML","a25","a"],function(e,t,n,r,i,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=(function(e){n.__extends(t,e);function t(t){var n=e.call(this,t)||this,r=t.from,o=t.to;n.dataSource=t.dataSource;n.bowerMerge=n.createComputed(function(){return i.Deployment.getBowerMerge(s.unwrap(r),s.unwrap(o))});return n}return t})(r.default);t.default=o});
define("a2T",["require","exports","a20","a2Z","MJ","OneDriveLightspeedDebugWindow_mini_css","a2U"],function(e,t,n,r,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i.registerComponent({tagName:"od-debug-window-manifestlist",template:n.default,viewModel:r.default,synchronous:!0});t.default=s});
define("a20",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default='<div class="DebugWindow-ManifestList">\x3c!--ko if:!manifestsLoaded()&&!manifestsError()--\x3e<div class="DebugWindow-ManifestList-dataContainer">Loading...</div>\x3c!--/ko--\x3e\x3c!--ko if:manifestsError--\x3e<div class="DebugWindow-ManifestList-dataContainer" data-bind="text:manifestsError"></div>\x3c!--/ko--\x3e\x3c!--ko if:manifestsLoaded()&&!manifestsError()--\x3e<div class="DebugWindow-ManifestList-dataContainer" data-bind="foreach:availableManifests"><div class="DebugWindow-ManifestList-row" data-bind="css:{\'DebugWindow-ManifestList-row-is-selected\':$parent.selectedManifest()==$data}"><input type="radio" data-bind="checkedValue:$data,checked:$parent.selectedManifest,attr:{name:$parent.listId}"><od-debug-window-manifestinfo params="dataSource: $parent.dataSource, manifest: $data"></od-debug-window-manifestinfo><div class="DebugWindow-ManifestList-Clear"></div></div></div>\x3c!--/ko--\x3e</div>'});
define("a2Z",["require","exports","mU","ML","a2z"],function(e,t,n,r,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=0,o=(function(e){n.__extends(t,e);function t(t){var n=e.call(this,t)||this;n.listId="manifestlist_"+s++;n.selectedManifest=t.selectedManifest;n.manifestsLoaded=t.manifestsLoaded;n.manifestsError=t.manifestsError;n.dataSource=t.dataSource;n.availableManifests=t.availableManifests;n.addBindingHandlers({booleanValue:i.default});return n}return t})(r.default);t.default=o});
define("a2L",["require","exports","MJ","a2P","a2M"],function(e,t,n,r,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=n.registerComponent({tagName:"od-debug-window-panes-performance",template:r.default,viewModel:i.PerformanceViewModel,synchronous:!0});t.default=s});
define("a2P",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default='<div data-bind="react:reactBindingParams"></div>'});
define("a2M",["require","exports","mU","ML","dS","M4","a2N"],function(e,t,n,r,i,s,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var u=(function(e){n.__extends(t,e);function t(t){var n=e.call(this,t)||this;n.addBindingHandlers({react:s.default});var r=n.resources.consume(i.rumOneHelper.optional);n.reactBindingParams={componentType:o.PerformanceSummary,props:n.observables.pureCompute(function(){return{rumone:r}})};return n}return t})(r.default);t.PerformanceViewModel=u});
define("a2N",["require","exports","mU","f","bn","a9","OneDriveLightspeedDebugWindow_mini_css"],function(e,t,n,r,i,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=new i.default,u=(function(e){n.__extends(t,e);function t(t){var n=e.call(this,t)||this;n.state=n._computeState();return n}t.prototype.componentDidMount=function(){var e=this;this._interval=o.setInterval(function(){e.setState(e._computeState())},1e3)};t.prototype.componentWillUnmount=function(){this._interval&&o.clearInterval(this._interval)};t.prototype.render=function(){var e=this.state,t=e.name,n=e.w3cResponseEnd,i=e.appStart,s=e.prefetchStart,o=e.preRender,u=e.deferredListDataRender,a=e.dataFetch,f=e.dataFetchServerTime,l=e.postRender,c=e.render,h=e.plt,p=e.pltWithUnload,d=e.httpRequests,v=e.suiteNav,m=e.commandBar,g=e.httpRequestCollection,y=e.httpRequestHeader,b=e.appCacheHit,w=e.loadStylesCount,E=e.loadStylesDuration,S=e.tti,x=e.tti2,T=(g||[]).map(function(e){e=e||{};return r.createElement("tr",{key:""+e.startTime+e.url},r.createElement("td",{"data-bind":"text: startTime"},e.startTime),r.createElement("td",{"data-bind":"text: url",className:"DebugWindow-Performance-Requests"},e.url),r.createElement("td",{"data-bind":"text: duration"},e.duration))});return r.createElement("div",{className:"DebugWindow-Panes-Performance"},r.createElement("table",null,r.createElement("thead",null,r.createElement("tr",null,r.createElement("th",null,"Name"),r.createElement("th",null,"Value"),r.createElement("th",null,"Description"))),r.createElement("tbody",null,r.createElement("tr",null,r.createElement("td",null,"name"),r.createElement("td",null,t),r.createElement("td",null,"The name of the PLT event")),r.createElement("tr",null,r.createElement("td",null,"plt"),r.createElement("td",null,h),r.createElement("td",null,"Time from fetchStart to list rendered")),r.createElement("tr",null,r.createElement("td",null,"w3cResponseEnd"),r.createElement("td",null,n),r.createElement("td",null,"Time to get the aspx from the server")),r.createElement("tr",null,r.createElement("td",null,"render"),r.createElement("td",null,c),r.createElement("td",null,"Post render plus pre render")),r.createElement("tr",null,r.createElement("td",null,"TTI"),r.createElement("td",null,S),r.createElement("td",null,"Time To Interactive measured by @ms/tti-polyfill")),r.createElement("tr",null,r.createElement("td",null,"TTI2"),r.createElement("td",null,x),r.createElement("td",null,"Synthetic Time To Interactive measured by Suite Nav finishes")),r.createElement("tr",null,r.createElement("td",null,"dataFetch"),r.createElement("td",null,a),r.createElement("td",null,"Time it takes for our app to get data back from the server")),r.createElement("tr",null,r.createElement("td",null,"deferredListDataRender"),r.createElement("td",null,u),r.createElement("td",null,"Time to get defered list data from server")),r.createElement("tr",null,r.createElement("td",null,"prefetchStart"),r.createElement("td",null,s),r.createElement("td",null,"Time it takes for our app to *start* prefetch")),r.createElement("tr",null,r.createElement("td",null,"appStart"),r.createElement("td",null,i),r.createElement("td",null,"Time it takes for our app to *start* running")),r.createElement("tr",null,r.createElement("td",null,"Command Bar"),r.createElement("td",null,m||""),r.createElement("td",null,"Time it takes for top level command bar rendered")),r.createElement("tr",null,r.createElement("td",null,"Suite Nav"),r.createElement("td",null,v||""),r.createElement("td",null,"Time it takes for suite nav rendered")),r.createElement("tr",null,r.createElement("td",null,"loadStyles total duration"),r.createElement("td",null,E),r.createElement("td",null,"Total loadStyles execution time before glass")),r.createElement("tr",null,r.createElement("td",null,"loadStyles style element count"),r.createElement("td",null,w),r.createElement("td",null,"Total loadStyles style element creation before glass")),r.createElement("tr",null,r.createElement("td",null,"preRender"),r.createElement("td",null,o||""),r.createElement("td",null,"Time it takes for our app to make the relevant data fetch for this view")),r.createElement("tr",null,r.createElement("td",null,"dataFetchServerTime"),r.createElement("td",null,f),r.createElement("td",null,"Time the dataFetch request spent on the server.")),r.createElement("tr",null,r.createElement("td",null,"postRender"),r.createElement("td",null,l||""),r.createElement("td",null,"Time it takes from appDataFetchEnd to PLT")),r.createElement("tr",null,r.createElement("td",null,"pltWithUnload"),r.createElement("td",null,p),r.createElement("td",null,"Time from navigationStart to list rendered... Includes unload of previous page")),r.createElement("tr",null,r.createElement("td",null,"httpRequests"),r.createElement("td",null,d),r.createElement("td",null,"The count of http request till plt")),r.createElement("tr",null,r.createElement("td",null,"appCacheHit"),r.createElement("td",null,b?"true":"false"),r.createElement("td",null,"Whether this page load is served from appCache")),r.createElement("tr",null,r.createElement("td",null),r.createElement("td",null),r.createElement("td",null)),r.createElement("tr",null,r.createElement("td",{colSpan:3},y)),r.createElement("tr",null,r.createElement("td",{colSpan:3},r.createElement("table",null,r.createElement("thead",null,r.createElement("tr",null,r.createElement("th",null,"StartTime"),r.createElement("th",null,"Url"),r.createElement("th",null,"Duration"))),r.createElement("tbody",null,T)))))))};t.prototype._computeState=function(){var e=this.props.rumone;return{name:s.default.summary.name,w3cResponseEnd:s.default.summary.w3cResponseEnd,appStart:s.default.summary.appStart,prefetchStart:s.default.summary.prefetchStart,preRender:s.default.summary.preRender,deferredListDataRender:s.default.summary.deferredListDataRender,dataFetch:s.default.summary.dataFetch||e&&e.rumone.readEUPLBreakdown("dataFetch"),dataFetchServerTime:s.default.summary.dataFetchServerTime,postRender:s.default.summary.postRender,render:s.default.summary.render||e&&e.rumone.readEUPLBreakdown("render"),plt:s.default.summary.plt,pltWithUnload:s.default.summary.pltWithUnload,httpRequests:s.default.summary.httpRequests,suiteNav:e&&e.getControlRenderTime("SuiteNav"),commandBar:e&&e.getControlRenderTime("TopLevelCommandBar"),tti:e&&e.rumone.getPerformanceData().TTI,tti2:e&&e.rumone.getPerformanceData().TTI2,httpRequestCollection:s.default.httpRequestCollection,httpRequestHeader:"HTTP requests - "+(s.default.httpRequestCollection?s.default.httpRequestCollection.length:""),appCacheHit:s.default.summary.appCacheHit,loadStylesCount:e&&e.rumone.readEUPLBreakdown("loadStyleCount"),loadStylesDuration:e&&Number(Number(e.rumone.readEUPLBreakdown("loadStyleDuration")).toFixed(1))}};return t})(r.Component);t.PerformanceSummary=u});
define("a2o",["require","exports","a2q","a2p","MJ"],function(e,t,n,r,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i.registerComponent({tagName:"od-debug-window-panes-features",template:n.default,viewModel:r.default,synchronous:!0});t.default=s});
define("a2q",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default='<h3>Instructions</h3><p>Turn on or off features below as an override, then hit <input type="button" data-bind="click:executeFeaturesOverride" value="Go" style="font-size:1.3em;width:80px;">.</p><p data-bind="if:spoReproLinkSupported()"><small><b>Bonus feature for SPO</b> - get a repro link including devhost and feature config below (note: you need to hit go for feature changes to be captured)<br></small><input type="text" data-bind="value:spoReproLink(),selectOnFocus:{isPermanent:true}" style="width:90%"></p><div><small>Filter options: <a href="javascript:;" data-bind="click:spoOnly">SPO features only</a> | <a href="javascript:;" data-bind="click:odcOnly">ODC features only</a> | <a href="javascript:;" data-bind="click:showBoth">Both</a></small></div><h4>Manually Enabled Features</h4><ul data-bind="foreach:enabledFeatures"><li><span data-bind="text:$data.display"></span><input type="button" value="Remove" data-bind="click:$parent.removeFromEnabled"></li></ul><select data-bind="options:allFeatures,optionsText:\'display\',value:enableValue"></select><input type="button" value="Add feature to Enabled list" data-bind="click:addToEnabled"><h4>Manually Disabled Features</h4><ul data-bind="foreach:disabledFeatures"><li><span data-bind="text:$data.display"></span><input type="button" value="Remove" data-bind="click:$parent.removeFromDisabled"></li></ul><select data-bind="options:allFeatures,optionsText:\'display\',value:disableValue"></select><input type="button" value="Add feature to Disabled list" data-bind="click:addToDisabled"><br><br><h4>Check effective state of Feature</h4>Select feature to check: &nbsp;<select data-bind="options:allFeatures,optionsText:\'display\',value:statusCheckValue"></select><big><p data-bind="html:featureStatus"></p></big><br>'});
define("a2p",["require","exports","mU","ML","dJ","Kt","A","WY","aC","aAC"],function(e,t,n,r,i,s,o,u,a,f){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=i;function c(e){var t=s[e];if(!t)return{display:e,isODB:!1,isODC:!1,name:e,odc:"",odb:""};var n=e,r=!1,i=!1;if(t.ODB>0&&t.ODC){n+=" (SPO, ODC)";r=i=!0}else if(t.ODB>0){n+=" (SPO)";r=!0}else if(t.ODC){n+=" (ODC)";i=!0}else n+=" (default "+(t.Fallback?"on)":"off)");return{display:n,isODB:r,isODC:i,name:e,odc:""+t.ODC,odb:""+t.ODB}}function h(e){return e.isODB&&e.isODC?e.odb+","+e.odc:e.isODB?e.odb:e.odc}function p(e,t,n){return"<font color='"+(t?"green":"red")+"'>"+e+" "+n+" "+(t?"en":"dis")+"abled</font>"}var d=(function(e){n.__extends(t,e);function t(t){var n=e.call(this,t)||this;n.filterType=n.createObservable(2);n.removeFromEnabled=function(e){n.enabledFeatures.remove(e);n.disabledFeatures.push(e)};n.removeFromDisabled=function(e){n.disabledFeatures.remove(e);n.enabledFeatures.push(e)};var r=i.default.Overrides,o=new Array,a=new Array;n.enableValue=n.createObservable();n.disableValue=n.createObservable();n.statusCheckValue=n.createObservable();for(var f=Object.keys(s).map(c).filter(function(e){return e.isODB||e.isODC}).sort(function(e,t){return e.display.localeCompare(t.display)}),l=0,h=f;l<h.length;l++){var d=h[l];(r.hasOwnProperty(d.odb)||r.hasOwnProperty(d.odc))&&(r[d.odb]||r[d.odc]?o.push(d):a.push(d))}n.enabledFeatures=n.observables.createArray(o);n.disabledFeatures=n.observables.createArray(a);n._allFeatures=n.observables.createArray(f);n.allFeatures=n.createPureComputed(function(){var e=n.filterType();return 2!==e?n._allFeatures().filter(function(t){return 0===e?t.isODB:t.isODC}):n._allFeatures()});n.addBindingHandlers({selectOnFocus:u.default});n.featureStatus=n.createPureComputed(function(){var e=n.statusCheckValue();return e?r.hasOwnProperty(e.odb)||r.hasOwnProperty(e.odc)?p(e.name,r[e.odc]||r[e.odb],"manually"):p(e.name,s.isFeatureEnabled(s[e.name]),"presently"):""});return n}t.prototype.spoOnly=function(){this.filterType(0)};t.prototype.odcOnly=function(){this.filterType(1)};t.prototype.showBoth=function(){this.filterType(2)};t.prototype.addToEnabled=function(){var e=this.enableValue.peek(),t=function(t){return t.name===e.name};if(!this.enabledFeatures.peek().some(t)){this.disabledFeatures.remove(t);this.enabledFeatures.push(e)}};t.prototype.addToDisabled=function(){var e=this.disableValue.peek(),t=function(t){return t.name===e.name};if(!this.disabledFeatures.peek().some(t)){this.enabledFeatures.remove(t);this.disabledFeatures.push(e)}};t.prototype.executeFeaturesOverride=function(){var e=this._getCurrentFeaturesQueryParam(),t=this.resources.consume(a.navigation);t.updateViewParams(e);t.reload()};t.prototype.spoReproLinkSupported=function(){var e=this._spoEnv();return"edog"===e||"prodbubble"===e};t.prototype.spoReproLink=function(){var e=this._spoEnv(),t=f.get("srr"),n=this._getCurrentFeaturesQueryParam();this.resources.consume(a.navigation).updateViewParams(n);var r=window.location.href;switch(e){case"edog":var i="https://msft.spoppe.com/teams/SPGroups/playground/cookieredirect/redirect.aspx?mobile=0";t&&t.length>0&&(i+="&setcookie="+o.default.encodeURIComponent(t));return i+="&redirect="+o.default.encodeURIComponent(r);case"prodbubble":if(t&&t.length>0){i="https://microsoft.sharepoint.com/teams/cyrusplayground/cookieredirect/redirect.aspx?mobile=0";i+="&setcookie="+o.default.encodeURIComponent(t);return i+="&redirect="+o.default.encodeURIComponent(r)}return r}return""};t.prototype._getCurrentFeaturesQueryParam=function(){var e;return(e={})[l.ENABLE_PARAM_KEY]=this.enabledFeatures.peek().map(h).join(","),e[l.DISABLE_PARAM_KEY]=this.disabledFeatures.peek().map(h).join(","),e};t.prototype._spoEnv=function(){var e=window._spPageContextInfo;return e&&e.env?(""+e.env).toLowerCase():null};return t})(r.default);t.default=d});
define("a2k",["require","exports","a2n","a2m","MJ","OneDriveLightspeedDebugWindow_mini_css"],function(e,t,n,r,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i.registerComponent({tagName:"od-debug-window-panes-themes",template:n.default,viewModel:r.default,synchronous:!0});t.default=s});
define("a2n",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default='<h3>Theming</h3><p>Debug theming: temporarily set the page to one of the themes below.</p><div class="sp-DebugTheme-body"><select data-bind="value:variantSelected"><option value="None">None</option><option value="Neutral">Neutral</option><option value="Soft">Soft</option><option value="Strong">Strong</option></select>\x3c!--ko foreach:allThemes--\x3e<button class="sp-DebugTheme-themeSection" data-bind="click:$parent.setTheme.bind(this,$data)"><div class="sp-DebugTheme-themePreview"><span data-bind="text:palette.themeName"></span><div><div class="sp-DebugTheme-swatch" data-bind="style:{backgroundColor:palette.primaryText}"></div><div class="sp-DebugTheme-swatch" data-bind="style:{backgroundColor:palette.primaryBackground}"></div><div class="sp-DebugTheme-swatch" data-bind="style:{backgroundColor:palette.themePrimary}"></div></div></div><span data-bind="text:palette.themeDescription"></span></button>\x3c!--/ko--\x3e</div>'});
define("a2m",["require","exports","mU","a","ML","jm","ahg"],function(e,t,n,r,i,s,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var u=(function(e){n.__extends(t,e);function t(t){var n=e.call(this,t)||this;n.themeOffice={themeName:"Office",themeDescription:"Default theme",themePrimary:"#0078d4",themeLighterAlt:"#eff6fc",themeLighter:"#deecf9",themeLight:"#c7e0f4",themeTertiary:"#71afe5",themeSecondary:"#2b88d8",themeDarkAlt:"#106ebe",themeDark:"#005a9e",themeDarker:"#004578",neutralLighterAlt:"#f8f8f8",neutralLighter:"#f4f4f4",neutralLight:"#eaeaea",neutralQuaternaryAlt:"#dadada",neutralQuaternary:"#d0d0d0",neutralTertiaryAlt:"#c8c8c8",neutralTertiary:"#a6a6a6",neutralSecondaryAlt:"#767676",neutralSecondary:"#666666",neutralPrimary:"#333",neutralPrimaryAlt:"#3c3c3c",neutralDark:"#212121",black:"#000000",white:"#fff",primaryBackground:"#fff",primaryText:"#333"};n.themePrairie={themeName:"Prairie",themeDescription:"(dev) A warm and soft theme.",themePrimary:"#8fccff",themeLighterAlt:"#f9fcff",themeLighter:"#f4faff",themeLight:"#e9f5ff",themeTertiary:"#d0eaff",themeSecondary:"#9ad2ff",themeDarkAlt:"#67bbff",themeDark:"#1797ff",themeDarker:"#0078db",neutralLighterAlt:"#fff39c",neutralLighter:"#ffee6e",neutralLight:"#ffe941",neutralQuaternaryAlt:"#ffe205",neutralQuaternary:"#c4ad00",neutralTertiaryAlt:"#897900",neutralTertiary:"#beffb9",neutralSecondaryAlt:"#78ff6b",neutralSecondary:"#10c100",neutralPrimary:"#0d9e00",neutralDark:"#0c8e00",black:"#075700",white:"#fff9c9",primaryBackground:"#fff9c9",primaryText:"#0d9e00"};n.themeConsole={themeName:"Console",themeDescription:"(dev) (Dark) Evoke feelings of nostalgia.",themePrimary:"#feff00",themeLighterAlt:"#fffff2",themeLighter:"#ffffe6",themeLight:"#ffffcc",themeTertiary:"#ffff94",themeSecondary:"#ffff19",themeDarkAlt:"#e6e600",themeDark:"#b3b300",themeDarker:"#8c8c00",neutralLighterAlt:"#8c8c8c",neutralLighter:"#737373",neutralLight:"#595959",neutralQuaternaryAlt:"#404040",neutralQuaternary:"#333333",neutralTertiaryAlt:"#262626",neutralTertiary:"#d7ffc7",neutralSecondaryAlt:"#abff8a",neutralSecondary:"#4cff05",neutralPrimary:"#41e700",neutralDark:"#3bd100",black:"#248000",white:"#000000",primaryBackground:"#000000",primaryText:"#41e700"};n.themeOrange={themeName:"Orange",themeDescription:"A theme based on the default.",themePrimary:"#ca5010",themeLighterAlt:"#fdf7f4",themeLighter:"#f6dfd2",themeLight:"#efc4ad",themeTertiary:"#df8f64",themeSecondary:"#d06228",themeDarkAlt:"#b5490f",themeDark:"#993e0c",themeDarker:"#712d09",neutralLighterAlt:"#f8f8f8",neutralLighter:"#f4f4f4",neutralLight:"#eaeaea",neutralQuaternaryAlt:"#dadada",neutralQuaternary:"#d0d0d0",neutralTertiaryAlt:"#c8c8c8",neutralTertiary:"#a6a6a6",neutralSecondaryAlt:"#767676",neutralSecondary:"#666666",neutralPrimary:"#333",neutralPrimaryAlt:"#3c3c3c",neutralDark:"#212121",black:"#000000",white:"#fff",primaryBackground:"#fff",primaryText:"#333"};n.themeRed={themeName:"Red",themeDescription:"A theme based on the default.",themePrimary:"#a4262c",themeLighterAlt:"#fbf4f4",themeLighter:"#f0d3d4",themeLight:"#e3afb2",themeTertiary:"#c86c70",themeSecondary:"#ae383e",themeDarkAlt:"#932227",themeDark:"#7c1d21",themeDarker:"#5b1519",neutralLighterAlt:"#f8f8f8",neutralLighter:"#f4f4f4",neutralLight:"#eaeaea",neutralQuaternaryAlt:"#dadada",neutralQuaternary:"#d0d0d0",neutralTertiaryAlt:"#c8c8c8",neutralTertiary:"#a6a6a6",neutralSecondaryAlt:"#767676",neutralSecondary:"#666666",neutralPrimary:"#333",neutralPrimaryAlt:"#3c3c3c",neutralDark:"#212121",black:"#000000",white:"#fff",primaryBackground:"#fff",primaryText:"#333"};n.themePurple={themeName:"Purple",themeDescription:"A theme based on the default.",themePrimary:"#8764b8",themeLighterAlt:"#f9f8fc",themeLighter:"#e9e2f4",themeLight:"#d7c9ea",themeTertiary:"#b29ad4",themeSecondary:"#9372c0",themeDarkAlt:"#7959a5",themeDark:"#664b8c",themeDarker:"#4b3867",neutralLighterAlt:"#f8f8f8",neutralLighter:"#f4f4f4",neutralLight:"#eaeaea",neutralQuaternaryAlt:"#dadada",neutralQuaternary:"#d0d0d0",neutralTertiaryAlt:"#c8c8c8",neutralTertiary:"#a6a6a6",neutralSecondaryAlt:"#767676",neutralSecondary:"#666666",neutralPrimary:"#333",neutralPrimaryAlt:"#3c3c3c",neutralDark:"#212121",black:"#000000",white:"#fff",primaryBackground:"#fff",primaryText:"#333"};n.themeGreen={themeName:"Green",themeDescription:"A theme based on the default.",themePrimary:"#498205",themeLighterAlt:"#f6faf0",themeLighter:"#dbebc7",themeLight:"#bdda9b",themeTertiary:"#85b44c",themeSecondary:"#5a9117",themeDarkAlt:"#427505",themeDark:"#386304",themeDarker:"#294903",neutralLighterAlt:"#f8f8f8",neutralLighter:"#f4f4f4",neutralLight:"#eaeaea",neutralQuaternaryAlt:"#dadada",neutralQuaternary:"#d0d0d0",neutralTertiaryAlt:"#c8c8c8",neutralTertiary:"#a6a6a6",neutralSecondaryAlt:"#767676",neutralSecondary:"#666666",neutralPrimary:"#333",neutralPrimaryAlt:"#3c3c3c",neutralDark:"#212121",black:"#000000",white:"#fff",primaryBackground:"#fff",primaryText:"#333"};n.themeGray={themeName:"Gray",themeDescription:"A theme based on the default.",themePrimary:"#69797e",themeLighterAlt:"#f8f9fa",themeLighter:"#e4e9ea",themeLight:"#cdd5d8",themeTertiary:"#9fadb1",themeSecondary:"#78888d",themeDarkAlt:"#5d6c70",themeDark:"#4f5b5f",themeDarker:"#3a4346",neutralLighterAlt:"#f8f8f8",neutralLighter:"#f4f4f4",neutralLight:"#eaeaea",neutralQuaternaryAlt:"#dadada",neutralQuaternary:"#d0d0d0",neutralTertiaryAlt:"#c8c8c8",neutralTertiary:"#a6a6a6",neutralSecondaryAlt:"#767676",neutralSecondary:"#666666",neutralPrimary:"#333",neutralPrimaryAlt:"#3c3c3c",neutralDark:"#212121",black:"#000000",white:"#fff",primaryBackground:"#fff",primaryText:"#333"};n.themeDarkYellow={themeName:"Dark Yellow",themeDescription:"(Dark) A dark theme based on the default.",themePrimary:"#ffc83d",themeLighterAlt:"#0a0802",themeLighter:"#29200a",themeLight:"#4d3c12",themeTertiary:"#997825",themeSecondary:"#e0b036",themeDarkAlt:"#ffce51",themeDark:"#ffd56c",themeDarker:"#ffe092",neutralLighterAlt:"#282828",neutralLighter:"#313131",neutralLight:"#3f3f3f",neutralQuaternaryAlt:"#484848",neutralQuaternary:"#4f4f4f",neutralTertiaryAlt:"#6d6d6d",neutralTertiary:"#c8c8c8",neutralSecondary:"#d0d0d0",neutralPrimaryAlt:"#dadada",neutralPrimary:"#ffffff",neutralDark:"#f4f4f4",black:"#f8f8f8",white:"#1f1f1f",primaryBackground:"#1f1f1f",primaryText:"#ffffff"};n.themeDarkBlue={themeName:"Dark Blue",themeDescription:"(Dark) A dark theme based on the default.",themePrimary:"#00bcf2",themeLighterAlt:"#00080a",themeLighter:"#001e27",themeLight:"#003949",themeTertiary:"#007291",themeSecondary:"#00a7d5",themeDarkAlt:"#18c4f4",themeDark:"#3bcdf5",themeDarker:"#6ddaf8",neutralLighterAlt:"#233346",neutralLighter:"#28394d",neutralLight:"#324459",neutralQuaternaryAlt:"#384b61",neutralQuaternary:"#3d5167",neutralTertiaryAlt:"#556a81",neutralTertiary:"#c8c8c8",neutralSecondary:"#d0d0d0",neutralPrimaryAlt:"#dadada",neutralPrimary:"#ffffff",neutralDark:"#f4f4f4",black:"#f8f8f8",white:"#1e2d3e",primaryBackground:"#1e2d3e",primaryText:"#ffffff"};n.setTheme=function(e){switch(n.variantSelected()){default:case"None":s.loadTheme(e);break;case"Neutral":s.loadTheme(o.getNeutralVariant(e));break;case"Soft":s.loadTheme(o.getSoftVariant(e));break;case"Strong":s.loadTheme(o.getStrongVariant(e))}};n.variantSelected=r.observable("None");n.allThemes=[{palette:n.themeOffice},{palette:n.themeOrange},{palette:n.themeRed},{palette:n.themePurple},{palette:n.themeGreen},{palette:n.themeGray},{palette:n.themeDarkYellow,isInverted:!0},{palette:n.themeDarkBlue,isInverted:!0},{palette:n.themePrairie},{palette:n.themeConsole}];return n}return t})(i.default);t.default=u});
define("a2r",["require","exports","a2B","a2t","MJ","OneDriveLightspeedDebugWindow_mini_css"],function(e,t,n,r,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i.registerComponent({tagName:"od-debug-window-panes-manifests",template:n.default,viewModel:r.default,synchronous:!0});t.default=s});
define("a2B",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default='<div class="ManifestsPane"><div class="ManifestsPane-Login" data-bind="ifnot:isAuthenticated"><button data-bind="click:login">Login</button></div><div class="ManifestsPane-Login" data-bind="if:isAuthenticated"><button data-bind="click:signout">Sign Out</button></div><div class="section"><div class="label">Current Build:</div><div data-bind="text:currentManifest"></div></div><div class="section"><div class="label">Dev cookies:</div><div><input placeholder="Paste in one or more devhost links from the build output" type="text" size="80" data-bind="value:pastedDevhost,keyboard:{Enter:setDevhost}"><div><button data-bind="click:setDevhost">Set cookie</button><button data-bind="click:clearCookies">Clear dev cookies</button></div></div></div><table class="ManifestsPane-info"><tbody><tr><th class="label">Manifest Server:</th><td><select data-bind="options:environments,value:selectedEnvironment,optionsText:\'name\'"></select></td></tr><tr><th class="label">Project:</th><td><div data-bind="if:projects"><select data-bind="options:projects,value:selectedProject"></select></div><div data-bind="ifnot:projects"><select><option>Loading...</option></select></div></td></tr><tr><th class="label">Build:</th><td><div data-bind="if:manifestKeys"><select data-bind="options:manifestKeys,value:selectedManifestKey,optionsAfterRender:highlightManifests,optionsText:\'key\',optionsCaption:\'Select an item...\'"></select></div><div><input type="checkbox" data-bind="checked:showAllBuilds"><span class="label">Show all builds (If unchecked, this will filter to last few weeks).</span></div><div data-bind="ifnot:manifestKeys"><select><option>Loading...</option></select></div></td></tr></tbody></table><div style="border:1px solid grey; padding:10px"><div data-bind="if:manifestGroup&&manifestGroup()&&selectedManifestKey()"><div style="font-size: large"><span class="label">Info for:</span><span data-bind="text:manifestGroup().key"></span></div><div><button data-bind="click:activateBuild">Set cookie to activate this build</button></div><div><span class="label">Machine:</span><span class="label" data-bind="text:firstManifest().Machine"></span></div><div data-bind="if:firstManifest().Data()&&typeof firstManifest().Data().Slot===\'number\'"><span class="label">Slot:</span><span data-bind="text:firstManifest().Data().Slot"></span></div><div><span class="label">Created on:</span><span class="label" data-bind="text:new Date(firstManifest().CreateDate()).toLocaleString()"></span></div><div data-bind="if:isAuthenticated()"><div style="background-color:#cccccc; margin-top: 10px; padding:10px;"><input type="checkbox" data-bind="checked:showUnsafeDeploymentOptions"><span>Show options that will violate rollout policy...</span><div style="font-size:small; color:red">Warning! Deploying a build to production too quickly requires triage approval.</div></div></div><table class="ManifestsPane-buildInfo"><tbody><tr><td colspan="2"><table><thead><tr><th>Key</th><th>Deployment progress</th><th data-bind="if:isAuthenticated()">Additional Details<span class="requiredfield">*</span></th><th>CDN</th><th><div data-bind="if:isAuthenticated()&&manifestGroup().manifests.length>1"><button data-bind="click:saveAll,enable:isSaveAllClickable">Save All</button></div></th></tr></thead><tbody data-bind="foreach:manifestGroup().manifests"><tr data-bind="if:$parent.isAuthenticated()||!$data.isAggregate,css:{\'ManifestsPane-aggregate\':$data.isAggregate}"><td class="label"><div data-bind="text:RowKey"></div><div><span style="font-size: x-small">Last Modified:</span><span style="font-size: x-small" data-bind="text:LastModifiedDate().toLocaleString()"></span></div><div data-bind="if:$data.isLibrary"><select data-bind="options:libraryManifestKeys,value:selectedLibraryManifestKey,optionsText:\'key\',optionsCaption:\'Select an item...\'"></select></div></td><td><div data-bind="if:$parent.ShowSimpleDeployUX()"><select data-bind="options:$parent.getPercentageOptions(),optionsText:\'name\',optionsValue:\'value\',value:deploymentStatus"></select></div><div data-bind="if:$parent.showComplexDeployUX()"><div><span class="advancedModeLabel">IsDogfood</span><select data-bind="booleanValue:IsDogfood"><option value="true">True</option><option value="false">False</option></select></div><div><span class="advancedModeLabel">IsLive</span><select data-bind="booleanValue:IsLive"><option value="true">True</option><option value="false">False</option></select></div><div><span class="advancedModeLabel">DeploymentPercent</span><select data-bind="options:$parent.getPercentageOptions(),optionsText:\'name\',optionsValue:\'value\',value:DeploymentPercentage"></select></div></div><div data-bind="ifnot:$parent.isAuthenticated"><div class="label" data-bind="text:deploymentStatusText()"></div></div></td><td data-bind="if:$parent.isAuthenticated"><div><div><span class="advancedModeLabel">Intent</span><select class="additionalInputDropdown" data-bind="value:SelectedIntent,event:{change:$parent.updateSaveAllProperty}"><option value="NA">Select a valid input..</option><option value="Deploy">Deploy</option><option value="Rollback">Rollback</option><option value="Patch">Patch</option></select><span class="requiredfield">*</span></div><div data-bind="if:isMitigation"><span class="advancedModeLabel">Defective Manifest</span><select class="additionalInputDropdown" data-bind="options:DefectiveManifestOptions,optionsText:\'name\',optionsValue:\'value\',value:ManifestWithDefect,event:{change:$parent.updateSaveAllProperty}"></select><span class="requiredfield">*</span></div><div data-bind="if:isMitigation"><span class="advancedModeLabel">How Found</span><select class="additionalInputDropdown" data-bind="value:HowFound,event:{change:$parent.updateSaveAllProperty}"><option value="NA">Select a valid input..</option><option value="Customer">Customer</option><option value="Manual">Manual</option><option value="Monitor">Monitor</option></select><span class="requiredfield">*</span></div></div></td><td><div data-bind="if:$parent.isAuthenticated"><select data-bind="value:cdn"><option value="None">None</option><option value="Akamai">Akamai</option><option value="Azure">Azure</option><option value="Akamai-HTTP/2">Akamai-HTTP/2</option></select></div><div data-bind="ifnot:$parent.isAuthenticated"><div class="label" data-bind="text:cdn"></div></div></td><td><div data-bind="if:$parent.isAuthenticated()&&!$data.isAggregate"><div data-bind="if:isSaving">Saving...</div><div data-bind="ifnot:isSaving"><button data-bind="click:save,enable:isSaveClickable">Save</button></div></div></td></tr><tr></tr><tr data-bind="if:status"><td colspan="10"><div class="ManifestsPane-status" data-bind="text:status"></div></td></tr></tbody></table></td></tr></tbody></table></div><div data-bind="if:manifestGroup()==undefined||selectedManifestKey()==undefined"><img style="width:48px;" src="data:image/gif;base64,R0lGODlhGAAYAIAAAFLOQv///yH/C05FVFNDQVBFMi4wAwEAAAAh+QQFCgABACwOAAAABAAEAAACBQxgp5dRACH5BAUKAAEALBQABgAEAAQAAAIFDGCnl1EAIfkEBQoAAQAsFAAOAAQABAAAAgUMYKeXUQAh+QQFCgABACwOABQABAAEAAACBQxgp5dRACH5BAUKAAEALAYAFAAEAAQAAAIFDGCnl1EAIfkEBQoAAQAsAAAOAAQABAAAAgUMYKeXUQAh+QQFCgABACwAAAYABAAEAAACBQxgp5dRACH5BAkKAAEALAAAAAAYABgAAAIdjB8AyN2qnGRwzZss3rz7D4biSJbmiabqyrbuOxYAIfkECQoAAQAsAAAAABgAGAAAAjaMHwDI3aqcZHDNmyzevO/oGVEVVqRHgqUWtu4LU2w3Qqs5Y2n+8fH/yKkuJ5FNdzQOJ8uMowAAIfkECQoAAQAsAAAAABgAGAAAAjKMHwDI3aqcZHDNmyzevO/oUVCIVGSpnerKth4YRuZbjbScdrDLP3nGmRmEEyKx+NsdCgAh+QQJCgABACwAAAAAEgAYAAACKowfAMit2mJ6MsKKsz53v+VR2zSW5olKnfaNrQum8rkatS3i96vHyL4oAAAh+QQJCgABACwAAAAACgAYAAACIIwfAHiqnByMs84H3WL6bguGIoJxklmS38iqXmp02VIAACH5BAkKAAEALAAAAAAKABIAAAIajB8AeKqcHIyzzgfdYvpuC4YignGSWZIfUgAAIfkECQoAAQAsAAAAAAoACgAAAhGMHwB4qpwcjLPOB91i+m5WAAAh+QQJCgABACwGAAAABAAEAAACBQxgp5dRADs="></div></div></div>'});
define("a2t",["require","exports","mU","aAC","dg","ML","a2A","a2z","a2u","aM"],function(e,t,n,r,i,s,o,u,a,f){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=(function(t){n.__extends(s,t);function s(e){var n=t.call(this,e)||this;n._allManifestBuilds=[];n._dataSource=n.resources.consume(f.manifests);n._manifestFilter=new(n.managed(a.default));n.currentManifest=n._getCurrentManifest();n.environments=n._dataSource.getEnvironments();n.selectedEnvironment=n.createObservable(n._dataSource.getEnvironment());n.projects=n.createObservable([]);n.selectedProject=n.createObservable(void 0);n.manifestKeys=n.createObservable([]);n.selectedManifestKey=n.createObservable(void 0);n.manifestGroup=n.createObservable(void 0);n.isAuthenticated=n.createObservable(!1);n.isDogfoodManifest=n.createObservable(!1);n.showUnsafeDeploymentOptions=n.createObservable(!1);n.showSimplifiedDeploymentUX=n.createObservable(!1);n.showAllBuilds=n.createObservable(!1);n.pastedDevhost=n.createObservable("");n.firstManifest=n.createPureComputed(function(){var e=n.manifestGroup();if(e&&e.manifests&&e.manifests.length)return e.manifests[0]});n.isSaveAllClickable=n.createObservable(!1);n.percentageOptions=[];n._setPercentageOptions(!1);n.createComputed(function(){var e=n.selectedEnvironment();if("https://manifestdwestus.cloudapp.net"===e.url){n.isDogfoodManifest(!0);n._setPercentageOptions(!0)}else{n.isDogfoodManifest(!1);n._setPercentageOptions(!1)}n._dataSource.setEnvironment(e);n.projects([]);n._manifestFilter.getFilteredProjects().then(function(e){n.projects(e)})});n.createComputed(function(){var e=n.projects();n.selectedProject(e[0])});n.createComputed(function(){var e=n.selectedProject();n.manifestGroup(void 0);n.manifestKeys([]);n.selectedManifestKey(void 0);e?n._manifestFilter.getFilteredManifestList(e).then(function(e){n._setManifestBuilds(e)}):n.manifestKeys([])});n.subscribe(n.showUnsafeDeploymentOptions,function(e){e&&(n._promptForApproval()||n.showUnsafeDeploymentOptions(!1));var t=JSON.parse(JSON.stringify(n.manifestKeys.peek()));n.manifestKeys([]);n.manifestKeys(t)});n.subscribe(n.showAllBuilds,function(e){n._setManifestBuilds(JSON.parse(JSON.stringify(n._allManifestBuilds)))});n.createComputed(function(){var e=n.manifestKeys(),t=n.selectedManifestKey.peek();e.length?e.indexOf(t)<0&&n.selectedManifestKey(e[0]):n.selectedManifestKey(void 0)});n.createComputed(function(){var e=n.selectedManifestKey(),t=n.selectedProject.peek();n.manifestGroup(void 0);e?n._manifestFilter.getManifests(e,t).then(function(e){var t=e.manifests;if(t)for(var r=0;r<t.length;r++)t[r].isManifestServerDogfood=n.isDogfoodManifest.peek();var i=n.selectedProject.peek();n.showSimplifiedDeploymentUX(Boolean({"SPO Web Group":!0,"SP Client Group":!0,ODBSHAREINSPO:!0,PEX:!0}[i]));n.manifestGroup(e);n.isSaveAllClickable(!1)}):n.manifestGroup(void 0)});n.addBindingHandlers({booleanValue:u.default});n.updateSaveAllProperty=function(){var e=n.manifestGroup.peek();e&&e.manifests.length&&n.isSaveAllClickable(e.manifests[0].isSaveClickable.peek())};n.events.on(window,"message",n._onReceivedMessage);n._getIsAuthenticatedState();return n}s.prototype.login=function(){this._loginPopup=window.open(this._dataSource.getSignInEndpoint(),"_blank","width=500, height=500");this._monitorLoginPopup()};s.prototype.signout=function(){window.open(this._dataSource.getSignOutEndpoint(),"_blank","width=500, height=500")};s.prototype.activateBuild=function(){var e=this.manifestGroup.peek();if(e&&e.manifests.length){this._setManifestCookies(e);this._refreshPage()}};s.prototype.clearCookies=function(){this._removeManifestCookies();this._refreshPage()};s.prototype.saveAll=function(){var e=this.manifestGroup();if(e)for(var t=0,n=e.manifests;t<n.length;t++){n[t].save()}};s.prototype.setDevhost=function(){var e=this.pastedDevhost.peek();if(e){e=e.replace(/\s+/g,"");var t=void 0,n=/setcookie=([\w%.-]*)&/i.exec(e);n?t=n[1]:"http"===e.substring(0,4)&&(t=e);if(t){t=decodeURIComponent(t);if(confirm("Set this devhost and reload page?\n\n"+t)){this._setManifestCookies(t);this._refreshPage()}}}};s.prototype.getPercentageOptions=function(){for(var e=this.manifestGroup.peek().key,t=[],n=this._fCanRollToNextRingInfo(),r=0;r<this.percentageOptions.length;r++)this._isDeploymentSpeedValid(e,this.percentageOptions[r].value,n.fCanRollToNextRing,n.largestDeploymentStatus)&&t.push(this.percentageOptions[r]);return t};s.prototype.ShowSimpleDeployUX=function(){return this.isAuthenticated.peek()&&this.showSimplifiedDeploymentUX.peek()};s.prototype.showComplexDeployUX=function(){return this.isAuthenticated.peek()&&!this.showSimplifiedDeploymentUX.peek()};s.prototype.highlightManifests=function(e,t){t&&0===t.key.indexOf("odsp-next-prod_")&&(t.key.indexOf("-sts")>0?e.style.cssText="color: green; font-style: italic;":e.style.cssText="color: blue;")};s.prototype._fCanRollToNextRingInfo=function(){for(var e=this.manifestGroup.peek().manifests,t=new Date(0),n=0,r=0;r<e.length;r++){var i=e[r].LastModifiedDate();i>t&&(t=i);var s=e[r].deploymentStatus.peek();s>n&&(n=s)}return{fCanRollToNextRing:(new Date).valueOf()-t.valueOf()>864e5,largestDeploymentStatus:n}};s.prototype._setManifestBuilds=function(e){var t=[];this._allManifestBuilds=JSON.parse(JSON.stringify(e));if(this.showAllBuilds.peek())t=e;else for(var n=e.length>150?150:e.length,r=0;r<n;r++)t.push(e[r]);this.showAllBuilds.peek()||t.sort(function(e,t){return e.key<t.key?1:e.key>t.key?-1:0});this.manifestKeys(t)};s.prototype._isDeploymentSpeedValid=function(e,t,n,r){if(!this.showSimplifiedDeploymentUX.peek()&&t===o.DEPLOYED_IN_DOGFOOD)return!1;if(this.showUnsafeDeploymentOptions.peek())return!0;var i=this._validateMinTimeToRingsFromCreationTime(e,t),s=this._validateMinTimeToNextRingFromLastModified(t,n,r);return i&&s};s.prototype._validateMinTimeToNextRingFromLastModified=function(e,t,n){return e<=n||(e<=o.DEPLOYED_IN_DOGFOOD||(e<=10?t:e<=50?n>=10&&t:n>=50&&t))};s.prototype._validateMinTimeToRingsFromCreationTime=function(e,t){try{var n=e.substr(e.indexOf("_")+1,10),r=new Date(n);if(!this._isValidDate(r))return!0;var i=((new Date).valueOf()-r.valueOf())/36e5;return t>50?i/24>9:t>10?i/24>6:!(t>=2)||i/24>4}catch(e){return!0}};s.prototype._isValidDate=function(e){return e instanceof Date&&!isNaN(e.valueOf())};s.prototype._promptForApproval=function(){var e="Warning!! You are tyring to show options that will deploy "+this.manifestGroup.peek().key+" too quickly.";e+="You will need triage approval to do so. If you have triage approval,";e+=' please type "Triage Approved" (case sensetive) in the text box below. ';e+="Else, please click the cancel button";return"Triage Approved"===prompt(e,"")};s.prototype._setPercentageOptions=function(e){this.percentageOptions=[];this.percentageOptions.push({name:o.NotDeployedAnywhere_Text,value:o.NOT_DEPLOYED_ANYWHERE});this.percentageOptions.push({name:e?o.DeployedInDogfood_Text:o.DeployedInMSIT_Text,value:o.DEPLOYED_IN_DOGFOOD});if(!e)for(var t=5;t<=100;t+=5)this.percentageOptions.push({name:t+"% of prod",value:t})};s.prototype._removeManifestCookies=function(){var e=new Date(0);r.set("srr","",{domain:window.location.hostname+";",path:"/",expires:e});r.set("srr","",{domain:this._getDomain(),path:"/",expires:e});r.set("nextserverhost","",{path:"/",expires:e});r.set("nextdevhost","",{path:"/",expires:e})};s.prototype._setManifestCookies=function(e){this._removeManifestCookies();var t;if("string"==typeof e)t=e;else{t=e.manifests[0].Data().cdns[0]+e.key+"/"}r.set("srr",t,{domain:this._getDomain(),path:"/"});r.set("nextserverhost",t,{path:"/"});r.set("nextdevhost",t,{path:"/"})};s.prototype._getDomain=function(){var e=window.location.hostname,t=e.indexOf(".");return(t>-1?e.substring(t):e)+";"};s.prototype._refreshPage=function(){var e=new i.default(document.location.href);e.setQueryParameter("r",Math.random().toString());e.removeQueryParameter("nextserverhost");e.removeQueryParameter("nextdevhost");document.location.href=e.toString()};s.prototype._monitorLoginPopup=function(){var e=this;this._popupInterval||(this._popupInterval=this.async.setInterval(function(){if(e._loginPopup)e._loginPopup.postMessage("updating reference of parent to support navigations in login popup","*");else{e.async.clearInterval(e._popupInterval);e._popupInterval=null}},500))};s.prototype._onReceivedMessage=function(e){var t=this._dataSource.getEnvironment();if(this._loginPopup&&e.origin===t.url){this._loginPopup.close();this.async.clearInterval(this._popupInterval);this._popupInterval=null;this._getIsAuthenticatedState()}};s.prototype._getIsAuthenticatedState=function(){var e=this;this.isAuthenticated(!1);this._dataSource.isAuthenticated().then(function(t){e.isAuthenticated(t)})};s.prototype._getCurrentManifest=function(){var t="undefined"==typeof __webpack_public_path__?e.toUrl(""):__webpack_public_path__,n=t.indexOf("/files/");return t.substr(n+"/files/".length).replace("/","")};return s})(s.default);t.default=l});
define("a2A",["require","exports","mU","bl","Kl","aM","a2v","a2v"],function(e,t,n,r,i,s,o,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.NOT_DEPLOYED_ANYWHERE=0;t.DEPLOYED_IN_DOGFOOD=1;t.NotDeployedAnywhere_Text="Not deployed anywhere";t.DeployedInMSIT_Text="100% of MSIT";t.DeployedInDogfood_Text="100% of dogfood";t.NotAvailable="NA";var a="spoprod-a.akamaihd.net",f="az742526.vo.msecnd.net",l="az741266.vo.msecnd.net",c=(function(e){n.__extends(i,e);function i(n){var r=e.call(this,n)||this;r.RowKey=r.createPureComputed(function(){return r._model.RowKey});r.CreateDate=r.createPureComputed(function(){return r._model.CreateDate});r.EntryState=r.createPureComputed(function(){return r._model.EntryState});r.Data=r.createPureComputed(function(){return r._parsedData});r.Machine=r.createPureComputed(function(){return r._model.Machine});r._dataSource=r.resources.consume(s.manifests);r._loadModel(n.manifest);r.isSaving=r.createObservable(!1);r.status=r.createObservable("");r.deploymentStatus=r.createObservable(r._getDeploymentStatusNumber());r.deploymentStatus.subscribe(function(e){if(e===t.DEPLOYED_IN_DOGFOOD){r.IsDogfood(!0);r.IsLive(!1);r.DeploymentPercentage(0)}else if(e>=2){r.IsLive(!0);r.DeploymentPercentage(e)}else{r.IsDogfood(!1);r.IsLive(!1);r.DeploymentPercentage(0)}});r.IsDogfood=r.createObservable(r._model.IsDogfood);r.IsDogfood.subscribe(function(e){r._model.IsDogfood=e});r.IsLive=r.createObservable(r._model.IsLive);r.IsLive.subscribe(function(e){r._model.IsLive=e});r.DeploymentPercentage=r.createObservable(r._model.DeploymentPercentage);r.subscribe(r.DeploymentPercentage,function(e){r._model.DeploymentPercentage=e});r.cdn=r.createObservable(r._getCDN());r.cdn.subscribe(function(e){var t=r._model.Data;if(t)if("Azure"===e){r._model.Data=t.replace(new RegExp(a+"|static2.sharepointonline.com","i"),l).replace(new RegExp("spoppe-a.akamaihd.net|static2df.sharepointonline.com","i"),f);r._bumpCreateDate()}else if("Akamai"===e){r._model.Data=t.replace(new RegExp(l+"|static2.sharepointonline.com","i"),a).replace(new RegExp(f+"|static2df.sharepointonline.com","i"),"spoppe-a.akamaihd.net");r._bumpCreateDate()}else if("Akamai-HTTP/2"===e){r._model.Data=t.replace(new RegExp(a+"|"+l,"i"),"static2.sharepointonline.com").replace(new RegExp("spoppe-a.akamaihd.net|"+f,"i"),"static2df.sharepointonline.com");r._bumpCreateDate()}});r.DefectiveManifestOptions=[{name:"Select a valid input..",value:"NA"},{name:"Current",value:r.RowKey()}];r._model.DogFoodRowKey!==t.NotAvailable&&r._model.DogFoodRowKey!==r.RowKey()&&r.DefectiveManifestOptions.push({name:o.getBuildKey(r._model.DogFoodRowKey)+"(DF)",value:r._model.DogFoodRowKey});r._model.ProductionRowKeys[0]!==t.NotAvailable&&r._model.ProductionRowKeys[0]!==r.RowKey()&&r.DefectiveManifestOptions.push({name:o.getBuildKey(r._model.ProductionRowKeys[0])+"(Prod)",value:r._model.ProductionRowKeys[0]});r.HowFound=r.createObservable("NA");r.isMitigation=r.createObservable(!1);r.SelectedIntent=r.createObservable("NA");r.ManifestWithDefect=r.createObservable("NA");r.isSaveClickable=r.createPureComputed(function(){return r.SelectedIntent()===u.Intents.Deploy||(r.SelectedIntent()===u.Intents.Patch||r.SelectedIntent()===u.Intents.Rollback)&&("NA"!==r.HowFound()&&"NA"!==r.ManifestWithDefect())});r.subscribe(r.SelectedIntent,function(e){var t=e;r._model.Intent=r.SelectedIntent();switch(t){case u.Intents.Rollback:case u.Intents.Patch:r.isMitigation(!0);r.ManifestWithDefect("NA");r.HowFound("NA");break;case u.Intents.Deploy:case u.Intents.NA:r.HowFound("NA");r.ManifestWithDefect(r.DefectiveManifestOptions[0].value);r.isMitigation(!1)}});r.ManifestWithDefect.subscribe(function(e){r._model.ManifestWithDefect=e});r.HowFound.subscribe(function(e){r._model.HowFound=e});r.Project=r._model.Project;return r}i.prototype.LastModifiedDate=function(){return new Date(this._model.LastModifiedDate+"Z")};i.prototype.save=function(){var e=this;this.isSaving(!0);return this._dataSource.saveManifest(this._model).then(function(){e.isSaving(!1);e.status("Successfully saved and updated the manifest")},function(t){e.isSaving(!1);var n="Failed to save manifest changes: ";t.status&&t.statusText&&(n+="("+t.status+":"+t.statusText+") ");t.responseText?n+=t.responseText:n+="Unknown error occured.";e.status(n);return r.default.wrapError(t)})};i.prototype.deploymentStatusText=function(){var e=this.deploymentStatus.peek();return e===t.NOT_DEPLOYED_ANYWHERE?t.NotDeployedAnywhere_Text:e===t.DEPLOYED_IN_DOGFOOD?this.isManifestServerDogfood?t.DeployedInDogfood_Text:t.DeployedInMSIT_Text:e.toString()+" % of prod"};i.prototype._getDeploymentStatusNumber=function(){return this._model.IsLive&&this._model.DeploymentPercentage>=2?this._model.DeploymentPercentage:this._model.IsDogfood?t.DEPLOYED_IN_DOGFOOD:t.NOT_DEPLOYED_ANYWHERE};i.prototype._loadModel=function(e){this._model=e;try{this._parsedData=JSON.parse(e.Data)}catch(e){this._parsedData={}}};i.prototype._getCDN=function(){var e=this._parsedData.cdns;if(e&&e instanceof Array){var t=e[0];if(t){if(-1!==t.indexOf("akamaihd.net"))return"Akamai";if(-1!==t.indexOf("msecnd.net"))return"Azure";if(-1!==t.indexOf("sharepointonline.com"))return"Akamai-HTTP/2"}}return"None"};i.prototype._bumpCreateDate=function(){var e=new Date(this.CreateDate());e.setSeconds(e.getSeconds()+2);this._model.CreateDate=e.toJSON()};return i})(i.default);t.default=c});
define("a2v",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.getBuildKey=function(e){var t=e.lastIndexOf("."),n=e.indexOf("-",t);return n<0?e:e.substr(0,e.indexOf("."))+e.substr(t,n-t)};(function(e){e.NA="NA";e.Deploy="Deploy";e.Rollback="Rollback";e.Patch="Patch"})(t.Intents||(t.Intents={}))});
define("a2u",["require","exports","mU","bl","Kl","a2A","a2y","a2x","a2w","aM","a2v"],function(e,t,n,r,i,s,o,u,a,f,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var c="odsp.business.deployment.project",h=(function(e){n.__extends(t,e);function t(){var t,n=e.call(this)||this;n._dataSource=n.resources.consume(f.manifests);n._projectsToExclude=[];n._projectGroupMap={};for(var r=0,i=a.default;r<i.length;r++){var s=i[r];n._projectGroupMap[s.key]=s;(t=n._projectsToExclude).push.apply(t,s.projects)}return n}t.prototype.getFilteredProjects=function(){var e=this;return this._dataSource.getProjects().then(function(t){for(var r=localStorage[c],i=[],s=[],o=[],u=["No Project"],f=0,l=a.default;f<l.length;f++){var h=l[f];h.key===r?i.push(h.key):s.push(h.key)}s.sort();for(var p=0,d=t;p<d.length;p++){var v=d[p];!(36===v.length&&8===v.indexOf("-"))&&e._projectsToExclude.indexOf(v)<0&&(v===r?i.push(v):o.push(v))}o.sort();return n.__spreadArrays(i,u,s,o)})};t.prototype.getFilteredManifestList=function(e,t){var n=this;e="No Project"===e?void 0:e;var r=this._projectGroupMap[e];if(r){t||(localStorage[c]=r.key);return this._getManifestListForProjectGroup(r)}return this._dataSource.getManifestList(e).then(function(r){if(!r.length)return[];if(e){t||(localStorage[c]=e);return r.map(function(e){return{key:l.getBuildKey(e),manifestKeys:[e]}})}return n._getManifestKeyGroups(r)})};t.prototype.getManifests=function(e,t){for(var n=this,i=[],a=0,f=e.manifestKeys;a<f.length;a++){var l=f[a];i.push(this._dataSource.getManifest(l).then(function(e){return new(n.managed(s.default))({manifest:e})}))}return r.default.all(i).then(function(r){var i=n._projectGroupMap[t];if(i&&i.sharedProjectGroup){var s=i.sharedProjectGroup.projects;r=(r||[]).concat(s.map(function(t){return new(n.managed(u.default))({libraryProject:t,mainBuild:e.key,getFilteredManifestList:n.getFilteredManifestList.bind(n),getManifests:n.getManifests.bind(n)})}))}var a=r.slice(0);if(a.length>1){var f=new(n.managed(o.default))(a);r.unshift(f)}return{key:e.key,manifests:r}})};t.prototype._getManifestListForProjectGroup=function(e){var t=this,n=e.projects.map(function(e){return t._dataSource.getManifestList(e)});return r.default.all(n).then(function(e){return t._getManifestKeyGroups([].concat.apply([],e))})};t.prototype._getManifestKeyGroups=function(e){for(var t={},n=[],r=0,i=e;r<i.length;r++){var s=i[r],o=l.getBuildKey(s),u=t[o];if(!u){u={key:o,manifestKeys:[]};n.push(u);t[o]=u}u.manifestKeys.push(s)}return n};return t})(i.default);t.default=h});
define("a2y",["require","exports","mU","bl","Kl","a2v","a2v"],function(e,t,n,r,i,s,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.NotAvailable="NA";var u=(function(e){n.__extends(i,e);function i(n){var r=e.call(this)||this;r._manifests=n;r.isSaving=r.createObservable(!1);r.status=r.createObservable("");r.isAggregate=!0;var i=n[0];r.RowKey=r.createObservable("Change all row values at once");r.CreateDate=i.CreateDate;r.EntryState=r.createObservable(0);r.Data=i.Data;r.Machine=i.Machine;r.IsDogfood=r.createObservable(!1);r.subscribe(r.IsDogfood,function(e){for(var t=0,n=r._manifests;t<n.length;t++){n[t].IsDogfood(e)}});r.IsLive=r.createObservable(!1);r.subscribe(r.IsLive,function(e){for(var t=0,n=r._manifests;t<n.length;t++){n[t].IsLive(e)}});r.DeploymentPercentage=r.createObservable(0);r.subscribe(r.DeploymentPercentage,function(e){for(var t=0,n=r._manifests;t<n.length;t++){n[t].DeploymentPercentage(e)}});r.deploymentStatus=r.createObservable(0);r.subscribe(r.deploymentStatus,function(e){for(var t=0,n=r._manifests;t<n.length;t++){n[t].deploymentStatus(e)}});r.cdn=r.createObservable("Akamai");r.subscribe(r.cdn,function(e){for(var t=0,n=r._manifests;t<n.length;t++){n[t].cdn(e)}});r.HowFound=r.createObservable("NA");r.isMitigation=r.createObservable(!1);r.SelectedIntent=r.createObservable("NA");r.DefectiveManifestOptions=i.DefectiveManifestOptions;r.ManifestWithDefect=r.createObservable(t.NotAvailable);r.subscribe(r.SelectedIntent,function(e){switch(e){case o.Intents.Rollback:case o.Intents.Patch:r.isMitigation(!0);r.ManifestWithDefect("NA");r.HowFound("NA");break;case o.Intents.Deploy:case o.Intents.NA:r.isMitigation(!1);r.HowFound("NA");r.ManifestWithDefect(r.DefectiveManifestOptions[0].value)}for(var t=0,n=r._manifests;t<n.length;t++){n[t].SelectedIntent(e)}});r.subscribe(r.ManifestWithDefect,function(e){for(var t=0,n=r._manifests;t<n.length;t++){var i=n[t],o=s.getBuildKey(e)+"-"+i.Project.toLowerCase();i.ManifestWithDefect(o)}});r.subscribe(r.HowFound,function(e){for(var t=0,n=r._manifests;t<n.length;t++){n[t].HowFound(e)}});r.isSaveClickable=r.createPureComputed(function(){return r.SelectedIntent()===o.Intents.Deploy||(r.SelectedIntent()===o.Intents.Patch||r.SelectedIntent()===o.Intents.Rollback)&&("NA"!==r.HowFound()&&"NA"!==r.ManifestWithDefect())});return r}i.prototype.LastModifiedDate=function(){return new Date(0)};i.prototype.save=function(){return r.default.wrap()};return i})(i.default);t.default=u});
define("a2x",["require","exports","mU","bl","Kl","a2v"],function(e,t,n,r,i,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.NotAvailable="NA";var o=(function(e){n.__extends(i,e);function i(n){var r=e.call(this,n)||this;r._project=n.libraryProject;r._mainBuild=n.mainBuild;r.libraryManifestKeys=r.createObservable([]);r.selectedLibraryManifestKey=r.createObservable(void 0);r.selectedManifest=r.createObservable(void 0);r.isLibrary=!0;r.RowKey=r.createPureComputed(function(){return r.selectedManifest()&&r.selectedManifest().RowKey()||r._project});r.CreateDate=r.createPureComputed(function(){return r.selectedManifest()&&r.selectedManifest().CreateDate()});r.EntryState=r.createPureComputed(function(){return r.selectedManifest()&&r.selectedManifest().EntryState()});r.Data=r.createPureComputed(function(){return r.selectedManifest()&&r.selectedManifest().Data()});r.Machine=r.createPureComputed(function(){return r.selectedManifest()&&r.selectedManifest().Machine()});r.isSaveClickable=r.createPureComputed(function(){return r.selectedManifest()&&r.selectedManifest().isSaveClickable()});r.isSaving=r.createObservable(!1);r.status=r.createObservable("");r.IsDogfood=r.createObservable(!1);r.IsLive=r.createObservable(!1);r.DeploymentPercentage=r.createObservable(0);r.deploymentStatus=r.createObservable(0);r.cdn=r.createObservable("");r.HowFound=r.createObservable("");r.isMitigation=r.createObservable(!1);r.SelectedIntent=r.createObservable(s.Intents.Deploy);r.DefectiveManifestOptions=[];r.ManifestWithDefect=r.createObservable(t.NotAvailable);r.createComputed(function(){var e=r.selectedManifest();if(e){r.isSaving(e.isSaving());r.status(e.status());r.IsDogfood(e.IsDogfood());r.IsLive(e.IsLive());r.DeploymentPercentage(e.DeploymentPercentage());r.cdn(e.cdn());r.HowFound(e.HowFound());r.isMitigation(e.isMitigation());r.SelectedIntent(e.SelectedIntent());r.DefectiveManifestOptions=e.DefectiveManifestOptions;r.ManifestWithDefect(e.ManifestWithDefect());r.deploymentStatus(e.deploymentStatus())}});r.subscribe(r.deploymentStatus,function(e){r.selectedManifest()&&r.selectedManifest().deploymentStatus(e)});r.subscribe(r.IsDogfood,function(e){r.selectedManifest()&&r.selectedManifest().IsDogfood(e)});r.subscribe(r.IsLive,function(e){r.selectedManifest()&&r.selectedManifest().IsLive(e)});r.subscribe(r.DeploymentPercentage,function(e){r.selectedManifest()&&r.selectedManifest().DeploymentPercentage(e)});r.subscribe(r.cdn,function(e){r.selectedManifest()&&r.selectedManifest().cdn(e)});r.subscribe(r.SelectedIntent,function(e){r.selectedManifest()&&r.selectedManifest().SelectedIntent(e)});r.subscribe(r.ManifestWithDefect,function(e){r.selectedManifest()&&r.selectedManifest().ManifestWithDefect(e)});r.subscribe(r.HowFound,function(e){r.selectedManifest()&&r.selectedManifest().HowFound(e)});n.getFilteredManifestList(r._project,!0).then(function(e){r.libraryManifestKeys(e);var t;if(e&&e.length){var n=r._mainBuild.match(/.+prod_(.+_).+/),i=n&&n.length?n[1]:void 0;if(i){var s=e.filter(function(e){return e.key.indexOf(i)>-1});if(!(t=s[0])){i=i.replace("-sts","");t=(s=e.filter(function(e){return e.key.indexOf(i)>-1}))[0]}}t||(t=e[0]);r.selectedLibraryManifestKey(t)}});r.selectedLibraryManifestKey.subscribe(function(e){r.selectedManifest(void 0);e&&n.getManifests(e,r._project).then(function(e){if(e&&e.manifests&&e.manifests.length){for(var t=0,n=e.manifests;t<n.length;t++){n[t].isManifestServerDogfood=r.isManifestServerDogfood}r.selectedManifest(e.manifests[0]);e.manifests.length>1&&alert("Build contains multiple library manifests but only one is supported")}})});return r}i.prototype.deploymentStatusText=function(){return this.selectedManifest()&&this.selectedManifest().deploymentStatusText()};i.prototype.LastModifiedDate=function(){return this.selectedManifest()&&this.selectedManifest().LastModifiedDate()||new Date(0)};i.prototype.save=function(){return this.selectedManifest()?this.selectedManifest().save():r.default.wrap()};return i})(i.default);t.default=o});
define("a2w",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.sharedLibrariesProjectGroupSts={key:"Shared Libraries (STS Team)",projects:["CREATESITELIBRARY","GROUPSTATUSLIBRARY","LISTITEMFORMLIBRARY","LOGINAPPLIBRARY","RECYCLEBINLIBRARY","SITEHUBLIBRARY","SPLISTLIBRARY","SPOGUESTACCESSLIBRARY","SPLISTFORITEMSSCOPELIBRARY","SPLISTLIGHTSPEEDLIBRARY","ODSP-COMMON-LIBRARY(STS)","ODSP-MEDIA(STS)","OFFICE-UI-FABRIC-REACT(STS)","ITEMS-VIEW(STS)"]};var n=[{key:"SPO Web Group",projects:["CREATESITE","GROUPS","GROUPSTATUS","LISTITEMFORM","LOGINAPP","RECYCLEBIN","SITEHUB","SPLIST","SPLISTFORITEMSSCOPE","SPLISTLIGHTSPEED","SPOGUESTACCESS","CREATELIST"],sharedProjectGroup:t.sharedLibrariesProjectGroupSts},{key:"SPO WebPack Manifests",projects:["LISTITEMFORMWEBPACK","RECYCLEBINWEBPACK","SITEHUBWEBPACK","SPLISTWEBPACK","WACHOSTWEBPACK"]},{key:"Libraries",projects:["ODSP-COMMON-LIBRARY","ODSP-MEDIA","OFFICE-UI-FABRIC-REACT","ODSP-REACT","REQUIRE","KNOCKOUT","ITEMS-VIEW"]},{key:"SP Client Group",projects:["SP-CLIENT_TENANT-ADMIN","SP-CLIENT_INDEX","SP-CLIENT_DEFAULT_POOL","FIRSTPARTYWEBPARTS"]},{key:"OD Web Group",projects:["ODBONEDRIVE","ODBLIGHTSPEED"]}];t.default=n});
define("a2H",["require","exports","a2K","a2J","MJ","OneDriveLightspeedDebugWindow_mini_css"],function(e,t,n,r,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i.registerComponent({tagName:"od-debug-window-panes-libraries",template:n.default,viewModel:r.default,synchronous:!0});t.default=s});
define("a2K",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default='<div class="DebugWindow-Panes-Libraries"><div><table><thead><tr><th>Manifest</th><th>Build</th><th>Devhost Cookie</th></tr></thead><tbody data-bind="foreach:libraryCollection"><tr><td data-bind="text:manifestName"></td><td data-bind="text:buildName"></td><td><input placeholder="&lt;Default Devhost URL&gt;" size="80" data-bind="textInput:cookieUrl"><button data-bind="click:$parent.setDevhostCookie.bind($parent,$data)">Set</button><button data-bind="click:$parent.clearDevhostCookie.bind($parent,$data)">Clear</button></td></tr></tbody></table></div><div><button data-bind="click:toggleDevMode.bind($component),text:toggleDevModeLabel"></button></div></div>'});
define("a2J",["require","exports","mU","aAC","dg","ML"],function(e,t,n,r,i,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=(function(e){n.__extends(t,e);function t(t){var n=e.call(this,t)||this,i=[];if(window._spModuleLink){var s=window._spModuleLink;s.libraries&&(i=s.libraries.map(function(e){return{manifestName:e.manifestName,buildName:e.buildNumber,isRoot:!1,cookieUrl:e.usingRedirectCookie?r.get("srr:"+e.manifestName):""}}));i.push({manifestName:s.manifestName,buildName:s.buildNumber,isRoot:!0,cookieUrl:s.usingRedirectCookie?r.get("srr"):""});i=i.sort(function(e,t){return e.manifestName<t.manifestName?-1:e.manifestName>t.manifestName?1:0})}n.libraryCollection=n.observables.createArray(i);n.toggleDevModeLabel=n.observables.create(void 0!==r.get("devmode")?"Disable devmode manifests":"Enable devmode manifests");return n}t.prototype.toggleDevMode=function(){void 0!==r.get("devmode")?this._clearCookie("devmode"):r.set("devmode","true",{domain:this._getDomain(),path:"/"});this._clearCookie("srr");this._refreshPage()};t.prototype.setDevhostCookie=function(e){var t,n=e.isRoot?"srr":"srr:"+e.manifestName,r=e.cookieUrl.replace(/\s+/g,""),i=/setcookie=([\w%.-]*)&/i.exec(r);i?t=decodeURIComponent(i[1]):"http"===r.substring(0,4)&&(t=r);document.cookie=n+"="+t+";path=/;domain="+this._getDomain();this._refreshPage()};t.prototype.clearDevhostCookie=function(e){var t=e.isRoot?"srr":"srr:"+e.manifestName;this._clearCookie(t);this._refreshPage()};t.prototype._clearCookie=function(e){var t=new Date(0);document.cookie=e+"=;path=/;domain="+window.location.hostname+";expires="+t.toUTCString();document.cookie=e+"=;path=/;domain="+this._getDomain()+";expires="+t.toUTCString()};t.prototype._getDomain=function(){var e=window.location.hostname,t=e.indexOf(".");return(t>-1?e.substring(t):e)+";"};t.prototype._refreshPage=function(){if(confirm("Cookies have been updated, reload the page?")){var e=new i.default(document.location.href);e.setQueryParameter("r",Math.random().toString());document.location.href=e.toString()}};return t})(s.default);t.default=o});
define("a2E",["require","exports","mU","f","Ox","aAx","a2G","OneDriveLightspeedDebugWindow_mini_css"],function(e,t,n,r,i,s,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var u=(function(e){n.__extends(t,e);function t(t){var r=e.call(this,t)||this;r.updateState=function(e){r.setState(n.__assign({},e))};r.handleFilterChange=function(e){var t=e.target.value;r.setState({filter:t});r.context.dependencies.eventHelper.changeFilter(t)};r.handleLimitChange=function(e){var t=!r.state.hasEventLimit;r.setState({hasEventLimit:t});t?r.context.dependencies.eventHelper.addEventLimit():r.context.dependencies.eventHelper.removeEventLimit()};r.state={events:[],filter:"",startTime:"",totalEventCount:0,hasEventLimit:!1};return r}t.prototype.componentDidMount=function(){var e=this.context.dependencies.eventHelper;this.setState({startTime:e.getStartTime(),hasEventLimit:e.hasEventLimit});e.attach(this.updateState)};t.prototype.componentWillUnmount=function(){this.context.dependencies.eventHelper.detach(this.updateState)};t.prototype.render=function(){var e=this.state.events.map(function(e){return r.createElement("tr",{key:""+e.id+e.type},r.createElement("td",null,e.id),r.createElement("td",null,e.eventName),r.createElement("td",null,e.type),r.createElement("td",null,e.time),r.createElement("td",{title:e.formattedData},e.data))}),t=e.length+" / "+this.state.totalEventCount;return r.createElement("div",{className:"DebugWindow-Panes-Events"},r.createElement("table",{className:"DebugWindow-Panes-Events-Summary"},r.createElement("tbody",null,r.createElement("tr",null,r.createElement("td",{className:"DebugWindow-Panes-Events-Summary-Data",title:"App start time"},this.state.startTime),r.createElement("td",{className:"DebugWindow-Panes-Events-Summary-Data"},t),r.createElement("td",{className:"DebugWindow-Panes-Events-Summary-Data"},r.createElement("input",{type:"text",value:this.state.filter,onChange:this.handleFilterChange,placeholder:"Filter events..."})),r.createElement("td",null,r.createElement("label",{title:"Whether or not to limit the number of events that are cached for this view"},"Event Limit  ",r.createElement("input",{type:"checkbox",checked:this.state.hasEventLimit,onChange:this.handleLimitChange})))))),r.createElement("div",{className:"DebugWindow-Panes-Events-List-Container"},r.createElement("table",{className:"DebugWindow-Panes-Events-List"},r.createElement("thead",null,r.createElement("tr",null,r.createElement("th",null,"Id"),r.createElement("th",null,"Name"),r.createElement("th",null,"Type"),r.createElement("th",null,"Time"),r.createElement("th",null,"Data"))),r.createElement("tbody",null,e))))};t.contextTypes=i.RESOLVED_COMPONENT_CONTEXT_TYPES;return t})(r.PureComponent);t.resourceKey=i.createResolvedComponentTypeResourceKey(e("module").id,u,{eventHelper:o.resourceKey});t.knockoutResourceKey=s.createKnockoutResourceKeyFromReactKey(t.resourceKey,{automationName:"debug-window-event-viewer",name:e("module").id+".knockout"})});
define("a2G",["require","exports","mU","dj","bb","ai","v","dz","dy","Kl","fd","hT","mJ"],function(e,t,n,r,i,s,o,u,a,f,l,c,h){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var p=(function(e){n.__extends(t,e);function t(t,n){var r=e.call(this,t,n)||this;r.addClonedEvent=function(e){var t={data:e.data,context:e.context},n=o.safeSerialize(t),i={data:n,id:e.id,eventName:e.shortEventName,time:r.getTimeString(e),type:d(e),formattedData:v(n)};r.addEvent(i)};r.notifyListeners=function(){r.updateFilteredEvents();for(var e=0,t=r._listeners;e<t.length;e++){(0,t[e])({events:r._filteredEvents,totalEventCount:r._totalEventCount})}};r._filter="";r._events=[];r._listeners=[];r._totalEventCount=0;r._filteredEvents=[];r._startTime=i.Manager.startTime;r.throttledNotifyListeners=r.async.throttle(r.notifyListeners,250);r.debouncedNotifyListeners=r.async.debounce(r.notifyListeners,250);r._dataStore=new u.default("DebugWindow.EventHelper",a.default.local);r.hasEventLimit=!1!==r._dataStore.getValue("EventLimit");if(n.itemCacheStore){n.itemCacheStore.dispatch(l.getTelemetryManager).addLogHandler(r.addClonedEvent).forEach(r.addClonedEvent)}i.Manager.addLogHandler(r.addClonedEvent).forEach(r.addClonedEvent);return r}t.prototype.attach=function(e){this._listeners.push(e);this.updateFilteredEvents();e({events:this._filteredEvents,totalEventCount:this._totalEventCount})};t.prototype.detach=function(e){var t=this._listeners.indexOf(e);t>=0&&this._listeners.splice(t,1)};t.prototype.getStartTime=function(){return i.Manager.startDate.toLocaleTimeString(r.default.language)};t.prototype.addEventLimit=function(){if(!this.hasEventLimit){this.hasEventLimit=!0;this._dataStore.setValue("EventLimit",!0);this._events=this._events.slice(0,200);this.throttledNotifyListeners()}};t.prototype.removeEventLimit=function(){if(this.hasEventLimit){this.hasEventLimit=!1;this._dataStore.setValue("EventLimit",!1)}};t.prototype.changeFilter=function(e){if(e!==this._filter){this._filter=e;this.debouncedNotifyListeners()}};t.prototype.addEvent=function(e){this._events=n.__spreadArrays([e],this._events);this._totalEventCount+=1;this.hasEventLimit&&(this._events=this._events.slice(0,200));this.throttledNotifyListeners()};t.prototype.updateFilteredEvents=function(){var e=this._filter.toLowerCase();this._filteredEvents=this._events.filter(function(t){return!e||t.eventName&&t.eventName.toLowerCase().indexOf(e)>=0||t.data&&t.data.toLowerCase().indexOf(e)>=0})};t.prototype.getTimeString=function(e){switch(e.eventType){case s.ClonedEventType.End:return e.endTime?"+"+(e.endTime-this._startTime)+" ms ("+(e.endTime-e.startTime)+"ms)":"NA";case s.ClonedEventType.Single:case s.ClonedEventType.Start:return e.startTime?"+"+(e.startTime-this._startTime)+" ms":"NA"}};t.dependencies=n.__assign(n.__assign({},f.BaseModel.dependencies),{itemCacheStore:h.resourceKey.optional});return t})(f.BaseModel);t.EventHelper=p;function d(e){switch(e.eventType){case s.ClonedEventType.End:return"End";case s.ClonedEventType.Single:return"Single";case s.ClonedEventType.Start:return"Start"}}function v(e){try{return JSON.stringify(JSON.parse(e),null,2)}catch(e){}return e}t.resourceKey=c.createResolvedResourceKey(e("module").id,p)});
define("a2g",["require","exports","dS","MU","a2h","dh","W"],function(e,t,n,r,i,s,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var u=/EUPL\.ExpandingGroup\.\((.*)\).start/;function a(e){var t=e.consume(n.rumOneHelper.optional),r=[];if(t){var i=t.rumone.getMarkerTime("glass");r.push({name:"page load time",value:i||NaN});var s=(function(){var e,t,n,r,i=[];if(performance&&performance.mark){for(var s=0,o=performance.getEntriesByType("mark");s<o.length;s++){var a=o[s],f=a.name.match(u);if(f){if(e&&r&&n){i.push({name:"expanding group ("+r+")",value:Math.round(n-e+200)});n=e=t=r=void 0}r=f[1];e=a.startTime}e&&a.name.indexOf("DetailsRowWithAction")>=0&&(n=a.startTime);e&&a.name.indexOf("EUPL.ReactDetailsList.componentDidUpdate")>=0&&(t=a.startTime);if(e&&t){i.push({name:"expanding group ("+r+")",value:Math.round(t-e)});n=e=t=r=void 0}}e&&r&&n&&i.push({name:"expanding group ("+r+")",value:Math.round(n-e+200)})}return i})();r=r.concat(s)}return r}t.show=function(e,t){var n=a(e),u=e.consume(r.resourceKey),f=s.format('\n<table style="width: 100%">\n    <tr>\n        <th style="text-align: left">Measurement</th>\n        <th style="text-align: left">Latency(milliseconds)</th>\n    </tr>\n    {0}\n</table>',n.map(function(e){return'<tr>\n            <td style="text-align: left">'+e.name+'</td>\n            <td style="text-align: left">'+e.value+"</td>\n        </tr>"}).join("\n"));u.requestDialog({title:"Performance",size:"Large",component:{name:i.default.tagName,params:{html:f}}}).wait().then(function(){return{resultType:o.ResultTypeEnum.Success}},function(){t(!1)})}});
define("a2h",["require","exports","a2j","a2i","MJ"],function(e,t,n,r,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i.registerComponent({tagName:"ms-html-container",template:n.default,viewModel:r.default});t.default=s});
define("a2j",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default='<div class="HTMLContainer" data-bind="html:html"></div>'});
define("a2i",["require","exports","mU","ML"],function(e,t,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=(function(e){n.__extends(t,e);function t(t){var n=e.call(this,t)||this;n.html=t.html;return n}return t})(r.default);t.default=i});
define('OneDriveLightspeedDebugWindow_mini_css',["jh","Aa"],function(e){"use strict";e.loadStyles([{"rawString":".od-BuildDetails{padding:5px}.DebugWindow-Panes-Deployments-Clear{clear:both}.DebugWindow-Panes-Deployments-BuildDetails-Section-SubHeader{margin:0;clear:both}.DebugWindow-Panes-Deployments-BuildDetails-Section{border-bottom:#000 solid 1px;margin-bottom:10px;padding-bottom:10px}.DebugWindow-Panes-Deployments-BuildDetails-Warning{font-weight:700;color:red}"},{"rawString":".DebugWindow-ManifestInfo-Section{display:inline-block}.DebugWindow-ManifestInfo-Section-Name{width:120px;display:inline-block}.DebugWindow-ManifestInfo-Section-Value{width:400px;display:inline-block;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}"},{"rawString":".DebugWindow-DeploymentBowerDiff-BowerName{font-weight:700!important;width:480px;text-align:center}.DebugWindow-DeploymentBowerDiff-diffwrapper{border:solid 1px #000;margin:2px;padding:5px}html[dir=ltr] .DebugWindow-DeploymentBowerDiff-diffwrapper{float:left}html[dir=rtl] .DebugWindow-DeploymentBowerDiff-diffwrapper{float:right}html[dir=ltr] .DebugWindow-DeploymentBowerDiff-Section{float:left}html[dir=rtl] .DebugWindow-DeploymentBowerDiff-Section{float:right}.DebugWindow-DeploymentBowerDiff-Name{width:150px;display:inline-block}.DebugWindow-DeploymentBowerDiff-Value{width:330px;display:inline-block}.DebugWindow-DeploymentBowerDiff-Value-From,.DebugWindow-DeploymentBowerDiff-Value-To{width:150px;display:inline-block;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}html[dir=ltr] .DebugWindow-DeploymentBowerDiff-Value-From{float:left}html[dir=rtl] .DebugWindow-DeploymentBowerDiff-Value-From{float:right}.DebugWindow-DeploymentBowerDiff-Value-To{text-align:right}html[dir=ltr] .DebugWindow-DeploymentBowerDiff-Value-To{float:right}html[dir=rtl] .DebugWindow-DeploymentBowerDiff-Value-To{float:left}.DebugWindow-DeploymentBowerDiff-diffwrapper-different{background-color:"},{"theme":"themeLight","defaultValue":"#a8d1ef"},{"rawString":"}"},{"rawString":".DebugWindow-ManifestLists{font-weight:700}.DebugWindow-ManifestList-dataContainer{height:400px;overflow-y:auto;overflow-x:hidden}.DebugWindow-ManifestList-row-is-selected{background-color:"},{"theme":"themeLight","defaultValue":"#a8d1ef"},{"rawString":"!important}.DebugWindow-ManifestList-row{border-bottom:#000 solid 1px;margin-bottom:10px;padding-bottom:10px;width:100%;overflow:auto;padding:5px}.DebugWindow-ManifestList-Clear{clear:both}"},{"rawString":".od-DeploymentPane{padding:5px;min-width:525px}[dir=ltr] .od-DeploymentPane{padding-right:20px}[dir=rtl] .od-DeploymentPane{padding-left:20px}.od-DeploymentPane input{text-align:right;width:30px}.od-DeploymentPane label{font-weight:700}[dir=ltr] .od-DeploymentPane label{margin-right:5px}[dir=rtl] .od-DeploymentPane label{margin-left:5px}.od-DeploymentPane .DebugWindow-ManifestInfo{min-width:450px}.od-DeploymentPane-section{padding:5px}.od-DeploymentPane-error{color:red}.od-DeploymentPane-currentManifest .od-DeploymentPane-update{display:inline-block}.od-DeploymentPane-currentManifest .DebugWindow-ManifestInfo{border:solid 1px #000;padding:5px}.od-DeploymentPane-container{border:solid 1px #000}.od-DeploymentPane-login{width:100%;height:100%;text-align:center;background-color:"},{"theme":"themeLight","defaultValue":"#a8d1ef"},{"rawString":";padding:25px;margin-bottom:5px;margin-top:5px;box-sizing:border-box}.od-DeploymentPane-login button{color:"},{"theme":"white","defaultValue":"#ffffff"},{"rawString":"}.od-DeploymentPane-updating{width:100%;height:100%;position:fixed;top:0;left:0;background-color:rgba(0,0,0,.5)}.od-DeploymentPane-updatingText{background-color:#fff;text-align:center;top:50%;left:40%;position:fixed;padding:15px;font-weight:700;font-size:xx-large}.od-DeploymentPane-update{padding-top:10px;padding-bottom:10px}.od-DeploymentPane-update button{color:"},{"theme":"white","defaultValue":"#ffffff"},{"rawString":"}[dir=ltr] .od-DeploymentPane-update button{margin-left:5px}[dir=rtl] .od-DeploymentPane-update button{margin-right:5px}"},{"rawString":".DebugWindow-Panes-Performance th{font-weight:700;padding:5px}.DebugWindow-Panes-Performance td{padding:5px}.DebugWindow-Performance-Requests{max-width:600px;word-break:break-all}.DebugWindow-Panes-Performance tbody tr:nth-child(even){background-color:"},{"theme":"themeLighterAlt","defaultValue":"#e6f2fb"},{"rawString":"}"},{"rawString":".sp-DebugTheme-themeSection{display:flex;align-items:center;width:400px;margin:8px;background:0 0;border:none;cursor:pointer;color:inherit}.sp-DebugTheme-themeSection:hover{background-color:"},{"theme":"neutralLight","defaultValue":"#edebe9"},{"rawString":"}.sp-DebugTheme-themePreview{padding:4px;color:#000;background:repeating-linear-gradient(-45deg,#fff,#fff 2px,#eee 2px,#eee 4px);border:1px solid #000;margin:8px}.sp-DebugTheme-swatch{display:inline-block;margin:2px;height:16px;width:16px}"},{"rawString":".ManifestsPane th{padding:5px;font-weight:400}.section{border-bottom:1px solid #aaa;padding-top:10px;padding-bottom:20px}.label{font-size:small}.advancedModeLabel{width:150px;display:inline-block}.ManifestsPane-info{padding-top:20px;padding-bottom:20px}.ManifestsPane td{padding:5px}.ManifestsPane-buildInfo tbody tr td{border-bottom:1px solid #aaa}.ManifestsPane-Login{float:right}.ManifestsPane-aggregate{background-color:#d3d3d3}.ManifestsPane-status{font-style:italic;font-weight:300}[dir=ltr] .ManifestsPane-status{padding-left:20px}[dir=rtl] .ManifestsPane-status{padding-right:20px}.additionalInputDropdown{width:200px}.requiredfield{color:red;margin:2px}"},{"rawString":".DebugWindow-Panes-Libraries table{padding-bottom:32px}.DebugWindow-Panes-Libraries th{font-weight:700}.DebugWindow-Panes-Libraries td{padding:5px}.DebugWindow-Panes-Libraries tbody tr:nth-child(even){background-color:"},{"theme":"themeLighterAlt","defaultValue":"#e6f2fb"},{"rawString":"}"},{"rawString":".DebugWindow-Panes-Events{display:flex;flex-direction:column;position:absolute;top:0;bottom:0;left:0;right:0}.DebugWindow-Panes-Events-Summary{align-self:flex-start;margin-bottom:12px}.DebugWindow-Panes-Events-Summary-Label{font-weight:700;padding-right:10px}.DebugWindow-Panes-Events-Summary-Data{padding-right:20px}.DebugWindow-Panes-Events-Summary-Data input{width:350px}.DebugWindow-Panes-Events-List{white-space:nowrap}.DebugWindow-Panes-Events-List-Container{overflow-x:hidden;overflow-y:auto}.DebugWindow-Panes-Events-List td,.DebugWindow-Panes-Events-List th{text-align:left;padding-right:10px}.DebugWindow-Panes-Events-List tbody tr:nth-child(even){background-color:"},{"theme":"themeLighterAlt","defaultValue":"#e6f2fb"},{"rawString":"}"},{"rawString":".DebugWindow{height:50%;position:fixed;left:5px;right:5px;bottom:5px;z-index:200000;color:"},{"theme":"neutralPrimary","defaultValue":"#323130"},{"rawString":";background-color:"},{"theme":"white","defaultValue":"#ffffff"},{"rawString":";border:2px solid "},{"theme":"neutralLight","defaultValue":"#edebe9"},{"rawString":";padding:5px;display:none;-webkit-touch-callout:text;-webkit-user-select:text;-ms-user-select:text;user-select:text}.DebugWindow-is-visible{display:block}.DebugWindow-is-fullScreen{height:auto;top:5px}.DebugWindow-Container{height:100%;overflow:hidden;display:flex;flex-direction:column}.DebugWindow-TopOptions{flex:none}.DebugWindow-Panes{flex:none;border-bottom:1px solid "},{"theme":"neutralLight","defaultValue":"#edebe9"},{"rawString":";margin-bottom:2px}.DebugWindow-Panes-Tab{padding-left:10px;padding-right:10px;font-size:17px;font-weight:300;cursor:pointer;border:none;background:0 0}.DebugWindow-Panes-Tab:active,.DebugWindow-Panes-Tab:focus{outline:0}.DebugWindow-Panes-Tab.DebugWindow-Panes-Tab-is-focused:not(.DebugWindow-Panes-Tab-is-active),.DebugWindow-Panes-Tab:hover:not(.DebugWindow-Panes-Tab-is-active){background:"},{"theme":"neutralTertiaryAlt","defaultValue":"#c8c6c4"},{"rawString":"}.DebugWindow-Panes-Tab.DebugWindow-Panes-Tab-is-active:hover{background:"},{"theme":"themeTertiary","defaultValue":"#88bded"},{"rawString":"}.DebugWindow-Panes-Tab-is-active{background-color:"},{"theme":"themeLight","defaultValue":"#a8d1ef"},{"rawString":"}.DebugWindow-Summary{padding:4px}.DebugWindow-Pane{flex:auto;overflow-y:auto;padding:2px;position:relative}"}]);});